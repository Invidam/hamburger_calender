{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useState } from \"react\";\nexport const useAttemptLogin = login => {\n  _s();\n\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const handleSubmitNotSocial = async event => {\n    try {\n      event.preventDefault();\n      console.log(\"INFO< \", email, password); // login({ email, password });\n\n      axios.post(`/auth/login/notSocial`, {\n        email,\n        password\n      });\n    } catch (error) {\n      alert(error);\n      setEmail(\"\");\n      setPassword(\"\");\n    }\n  };\n\n  const handleSubmitGithub = async event => {\n    event.preventDefault(); //   const { code } = req.body;\n\n    console.log(\"CONNET ON NODE-github page: \"); //   const { email, password } = req.body;\n\n    const baseUrl = \"https://github.com/login/oauth/authorize\";\n    const authConfig = {\n      client_id: GH_CLIENT_ID(),\n      allow_signup: false,\n      scope: \"read:user user:email\"\n    };\n    console.log(\"CONFIG\", authConfig);\n    const authUrl = baseUrl + \"?\" + qs.stringify(authConfig);\n    console.log(\"url\", authUrl);\n    const finalUrl = await axios.get(authUrl);\n    console.log(\"RES\", finalUrl);\n    return res.redirect(finalUrl); //   return res.redirect(finalUrl);\n    //React로 옮기기!!\n\n    axios.get(`/auth/login/github`);\n  };\n\n  return {\n    email,\n    setEmail,\n    password,\n    setPassword,\n    handleSubmitNotSocial,\n    handleSubmitGithub\n  };\n};\n\n_s(useAttemptLogin, \"3B3pqDcVnkT+z/sPK6Z9zQsLP+s=\");","map":{"version":3,"sources":["/home/invidam/hamburger_calender/src/hooks/user/useAttemptLogin.js"],"names":["axios","useState","useAttemptLogin","login","email","setEmail","password","setPassword","handleSubmitNotSocial","event","preventDefault","console","log","post","error","alert","handleSubmitGithub","baseUrl","authConfig","client_id","GH_CLIENT_ID","allow_signup","scope","authUrl","qs","stringify","finalUrl","get","res","redirect"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,OAAzB;AAEA,OAAO,MAAMC,eAAe,GAAIC,KAAD,IAAW;AAAA;;AACxC,QAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBJ,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACK,QAAD,EAAWC,WAAX,IAA0BN,QAAQ,CAAC,EAAD,CAAxC;;AACA,QAAMO,qBAAqB,GAAG,MAAOC,KAAP,IAAiB;AAC7C,QAAI;AACFA,MAAAA,KAAK,CAACC,cAAN;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBR,KAAtB,EAA6BE,QAA7B,EAFE,CAGF;;AAEAN,MAAAA,KAAK,CAACa,IAAN,CAAY,uBAAZ,EAAoC;AAClCT,QAAAA,KADkC;AAElCE,QAAAA;AAFkC,OAApC;AAID,KATD,CASE,OAAOQ,KAAP,EAAc;AACdC,MAAAA,KAAK,CAACD,KAAD,CAAL;AACAT,MAAAA,QAAQ,CAAC,EAAD,CAAR;AACAE,MAAAA,WAAW,CAAC,EAAD,CAAX;AACD;AACF,GAfD;;AAgBA,QAAMS,kBAAkB,GAAG,MAAOP,KAAP,IAAiB;AAC1CA,IAAAA,KAAK,CAACC,cAAN,GAD0C,CAE1C;;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAY,8BAAZ,EAH0C,CAI1C;;AACA,UAAMK,OAAO,GAAG,0CAAhB;AACA,UAAMC,UAAU,GAAG;AACjBC,MAAAA,SAAS,EAAEC,YAAY,EADN;AAEjBC,MAAAA,YAAY,EAAE,KAFG;AAGjBC,MAAAA,KAAK,EAAE;AAHU,KAAnB;AAKAX,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBM,UAAtB;AACA,UAAMK,OAAO,GAAGN,OAAO,GAAG,GAAV,GAAgBO,EAAE,CAACC,SAAH,CAAaP,UAAb,CAAhC;AACAP,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBW,OAAnB;AACA,UAAMG,QAAQ,GAAG,MAAM1B,KAAK,CAAC2B,GAAN,CAAUJ,OAAV,CAAvB;AACAZ,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAmBc,QAAnB;AACA,WAAOE,GAAG,CAACC,QAAJ,CAAaH,QAAb,CAAP,CAhB0C,CAiB1C;AACA;;AACA1B,IAAAA,KAAK,CAAC2B,GAAN,CAAW,oBAAX;AACD,GApBD;;AAqBA,SAAO;AACLvB,IAAAA,KADK;AAELC,IAAAA,QAFK;AAGLC,IAAAA,QAHK;AAILC,IAAAA,WAJK;AAKLC,IAAAA,qBALK;AAMLQ,IAAAA;AANK,GAAP;AAQD,CAhDM;;GAAMd,e","sourcesContent":["import axios from \"axios\";\nimport { useState } from \"react\";\n\nexport const useAttemptLogin = (login) => {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const handleSubmitNotSocial = async (event) => {\n    try {\n      event.preventDefault();\n      console.log(\"INFO< \", email, password);\n      // login({ email, password });\n\n      axios.post(`/auth/login/notSocial`, {\n        email,\n        password,\n      });\n    } catch (error) {\n      alert(error);\n      setEmail(\"\");\n      setPassword(\"\");\n    }\n  };\n  const handleSubmitGithub = async (event) => {\n    event.preventDefault();\n    //   const { code } = req.body;\n    console.log(\"CONNET ON NODE-github page: \");\n    //   const { email, password } = req.body;\n    const baseUrl = \"https://github.com/login/oauth/authorize\";\n    const authConfig = {\n      client_id: GH_CLIENT_ID(),\n      allow_signup: false,\n      scope: \"read:user user:email\",\n    };\n    console.log(\"CONFIG\", authConfig);\n    const authUrl = baseUrl + \"?\" + qs.stringify(authConfig);\n    console.log(\"url\", authUrl);\n    const finalUrl = await axios.get(authUrl);\n    console.log(\"RES\", finalUrl);\n    return res.redirect(finalUrl);\n    //   return res.redirect(finalUrl);\n    //React로 옮기기!!\n    axios.get(`/auth/login/github`);\n  };\n  return {\n    email,\n    setEmail,\n    password,\n    setPassword,\n    handleSubmitNotSocial,\n    handleSubmitGithub,\n  };\n};\n"]},"metadata":{},"sourceType":"module"}