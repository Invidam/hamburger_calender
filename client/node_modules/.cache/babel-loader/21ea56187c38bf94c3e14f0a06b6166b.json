{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport { API } from \"../../../tools/API\";\nexport const useEditWork = (workItem, setWork, callback) => {\n  _s();\n\n  const {\n    id\n  } = workItem;\n  const [workColor, setColor] = useState(workItem.workColor);\n  const [workName, setWorkName] = useState(workItem.workName);\n  const [workTime, setWorkTime] = useState(workItem.workTime);\n\n  const hexToRgba = color => {\n    const r = parseInt(color.substr(1, 2), 16);\n    const g = parseInt(color.substr(3, 2), 16);\n    const b = parseInt(color.substr(5, 2), 16);\n    return \"rgba(\" + r + \",\" + g + \",\" + b + \", 1)\";\n  };\n\n  const onChangeWorkColor = color => {\n    if (!color) {\n      console.log(\"NO\", color);\n    } else if (color.substr(0, 1) === \"#\") {\n      color = hexToRgba(color);\n    }\n\n    setColor(color);\n  };\n\n  const onChangeWorkName = name => setWorkName(name);\n\n  const onChangeWorkTime = time => setWorkTime(parseInt(time));\n\n  const validator = workItem => {\n    return workItem.workName && workItem.workTime && workItem.workColor;\n  };\n\n  const editWorkItem = async workItem => await setWork(workItem).edit();\n\n  const getErrText = () => {\n    let errText = `[ERROR] ${workName ? \"\" : \"WorkName\"}${!workTime + !workColor > 0 && !workName ? \", \" : \"\"}${workTime ? \"\" : \"WorkTime\"}${!workColor > 0 && !workTime ? \", \" : \"\"}${workColor ? \"\" : \"WorkColor\"} ${!workName + !workTime + !workColor > 1 ? \"are\" : \"is\"} not entered.`;\n    return errText;\n  };\n\n  const onEditWork = event => {\n    try {\n      event.preventDefault();\n      const workItem = {\n        workName,\n        workTime,\n        workColor,\n        id\n      };\n      console.log(\"EIDT WORK\", workItem);\n      let willUpdate = true;\n      if (typeof validator === \"function\") willUpdate = validator(workItem);\n\n      if (willUpdate) {\n        callback();\n        editWorkItem(workItem);\n      } else {\n        throw new Error(getErrText());\n      }\n    } catch (error) {\n      alert(error);\n    }\n  };\n\n  return {\n    onChangeWorkColor,\n    onChangeWorkName,\n    onChangeWorkTime,\n    onEditWork\n  };\n};\n\n_s(useEditWork, \"LhyIU8NQ1RJyOWCIbJjp5GziRgk=\");","map":{"version":3,"sources":["/home/invidam/hamburger_calender/src/hooks/workList/work/useEditWork.js"],"names":["useState","API","useEditWork","workItem","setWork","callback","id","workColor","setColor","workName","setWorkName","workTime","setWorkTime","hexToRgba","color","r","parseInt","substr","g","b","onChangeWorkColor","console","log","onChangeWorkName","name","onChangeWorkTime","time","validator","editWorkItem","edit","getErrText","errText","onEditWork","event","preventDefault","willUpdate","Error","error","alert"],"mappings":"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","sourcesContent":["import { useState } from \"react\";\nimport { API } from \"../../../tools/API\";\n\nexport const useEditWork = (workItem, setWork, callback) => {\n  const { id } = workItem;\n  const [workColor, setColor] = useState(workItem.workColor);\n  const [workName, setWorkName] = useState(workItem.workName);\n  const [workTime, setWorkTime] = useState(workItem.workTime);\n\n  const hexToRgba = (color) => {\n    const r = parseInt(color.substr(1, 2), 16);\n    const g = parseInt(color.substr(3, 2), 16);\n    const b = parseInt(color.substr(5, 2), 16);\n    return \"rgba(\" + r + \",\" + g + \",\" + b + \", 1)\";\n  };\n  const onChangeWorkColor = (color) => {\n    if (!color) {\n      console.log(\"NO\", color);\n    } else if (color.substr(0, 1) === \"#\") {\n      color = hexToRgba(color);\n    }\n    setColor(color);\n  };\n  const onChangeWorkName = (name) => setWorkName(name);\n  const onChangeWorkTime = (time) => setWorkTime(parseInt(time));\n  const validator = (workItem) => {\n    return workItem.workName && workItem.workTime && workItem.workColor;\n  };\n  const editWorkItem = async (workItem) => await setWork(workItem).edit();\n\n  const getErrText = () => {\n    let errText = `[ERROR] ${workName ? \"\" : \"WorkName\"}${\n      !workTime + !workColor > 0 && !workName ? \", \" : \"\"\n    }${workTime ? \"\" : \"WorkTime\"}${!workColor > 0 && !workTime ? \", \" : \"\"}${\n      workColor ? \"\" : \"WorkColor\"\n    } ${!workName + !workTime + !workColor > 1 ? \"are\" : \"is\"} not entered.`;\n    return errText;\n  };\n  const onEditWork = (event) => {\n    try {\n      event.preventDefault();\n      const workItem = { workName, workTime, workColor, id };\n      console.log(\"EIDT WORK\", workItem);\n      let willUpdate = true;\n      if (typeof validator === \"function\") willUpdate = validator(workItem);\n      if (willUpdate) {\n        callback();\n        editWorkItem(workItem);\n      } else {\n        throw new Error(getErrText());\n      }\n    } catch (error) {\n      alert(error);\n    }\n  };\n  return { onChangeWorkColor, onChangeWorkName, onChangeWorkTime, onEditWork };\n};\n"]},"metadata":{},"sourceType":"module"}