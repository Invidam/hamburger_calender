{"ast":null,"code":"var _jsxFileName = \"/home/invidam/hamburger_calender/src/components/worklist/element/grade/WorkListGrade.js\",\n    _s = $RefreshSig$();\n\nimport { useWorkListGrade } from \"../../../../hooks/workList/useWorkListGrade\";\nimport { GradeStarList, makeStar } from \"./GradeStarList\";\nimport { faRedo } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { timeObjToStr } from \"../../../../tools/time\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst keyOrderArr = [\"target\", \"value\", \"difference\", \"point\"];\n\nconst redoElement = /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n  className: \"work-icon__redo\",\n  icon: faRedo,\n  size: \"1x\"\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 8,\n  columnNumber: 3\n}, this);\n\nconst strToFirstLEtterUpper = str => str.charAt(0).toUpperCase() + str.slice(1);\n\nexport const WorkListGrade = ({\n  user,\n  date\n}) => {\n  _s();\n\n  // const [grade, difference, target, value, isGradeLoading, updateInfo] =\n  const [gradeInfo, isGradeLoading, updateInfo] = useWorkListGrade(user, date);\n\n  const getGradeSum = () => gradeInfo ? Object.values(gradeInfo === null || gradeInfo === void 0 ? void 0 : gradeInfo.point).reduce((prev, value) => prev += value, 0) : 0;\n\n  const gradeSum = getGradeSum(); // console.log(\"SUM : \", grade, gradeSum);\n  // const gradeElement = makeStar(getGradeSum()).map((elem, idx) => (\n  //   <div key={idx}> {elem}</div>\n  // ));\n  // Object.entries(gradeInfo).map(([key, value]) => {\n  //   return (\n  //     <tr>\n  //       <td>{strToFirstLEtterUpper(key)}</td>\n  //       {value.map((elem) => {\n  //         return <td> {elem}</td>;\n  //       })}\n  //     </tr>\n  //   );\n  // });\n\n  const numToStr = (num, emptyStr) => num === -1 ? emptyStr + \"h\" : num + \"h\";\n\n  const getValue = (type, elem) => {\n    const getValueInPoint = () => makeStar(elem, false).map((star, idx) => {\n      return /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"workList-grade__tooltip-star\",\n        children: star\n      }, \"star\" + idx, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 11\n      }, this);\n    });\n\n    if (type === \"point\") return getValueInPoint();else if (type === \"target\" || type === \"value\") return timeObjToStr(elem, \"X\");else {// diff\n    }\n  };\n\n  const tableElement = /*#__PURE__*/_jsxDEV(\"table\", {\n    border: 1,\n    children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"th\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          className: \"workList-grade__tooltip__row\",\n          children: \"WakeTime\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          className: \"workList-grade__tooltip__row\",\n          children: \"BedTime\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n          className: \"workList-grade__tooltip__row\",\n          children: \"WorkTimeSum\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n      children: gradeInfo && keyOrderArr.map(key => {\n        const value = gradeInfo[key];\n        return /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: strToFirstLEtterUpper(key)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 17\n          }, this), console.log(value), value && Object.values(value).map((elem, idx) => {\n            return /*#__PURE__*/_jsxDEV(\"td\", {\n              children: key === \"point\" ? getValue(key, elem) : typeof elem === \"number\" ? numToStr(elem, \"0\") : timeObjToStr(elem, \"X\")\n            }, key + idx, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 23\n            }, this);\n          })]\n        }, key, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n\n  const tooltipElement = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"grade-tooltip-content\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grade-tooltip-box\",\n      children: [tableElement, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 5\n  }, this);\n\n  const getGradeElement = /*#__PURE__*/_jsxDEV(\"button\", {\n    className: \"workList-grade__btn workList-grade__btn-init\",\n    onClick: updateInfo,\n    children: \"Get Grade \\u2B50\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 5\n  }, this);\n\n  const updateGradeBtn = /*#__PURE__*/_jsxDEV(\"button\", {\n    className: \"workList-grade__btn workList-grade__update-btn\",\n    onClick: updateInfo,\n    children: redoElement\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 5\n  }, this);\n\n  const displayGrade = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"workList-grade__display\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tooltip\",\n      children: [/*#__PURE__*/_jsxDEV(GradeStarList, {\n        gradeSum: gradeSum\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), tooltipElement]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this), updateGradeBtn]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 5\n  }, this);\n\n  return gradeInfo ? displayGrade : getGradeElement;\n};\n\n_s(WorkListGrade, \"ThmtQcOhFtjv/fNeARQqlZlKIKU=\", false, function () {\n  return [useWorkListGrade];\n});\n\n_c = WorkListGrade;\n\nvar _c;\n\n$RefreshReg$(_c, \"WorkListGrade\");","map":{"version":3,"sources":["/home/invidam/hamburger_calender/src/components/worklist/element/grade/WorkListGrade.js"],"names":["useWorkListGrade","GradeStarList","makeStar","faRedo","FontAwesomeIcon","timeObjToStr","keyOrderArr","redoElement","strToFirstLEtterUpper","str","charAt","toUpperCase","slice","WorkListGrade","user","date","gradeInfo","isGradeLoading","updateInfo","getGradeSum","Object","values","point","reduce","prev","value","gradeSum","numToStr","num","emptyStr","getValue","type","elem","getValueInPoint","map","star","idx","tableElement","key","console","log","tooltipElement","getGradeElement","updateGradeBtn","displayGrade"],"mappings":"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","sourcesContent":["import { useWorkListGrade } from \"../../../../hooks/workList/useWorkListGrade\";\nimport { GradeStarList, makeStar } from \"./GradeStarList\";\nimport { faRedo } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { timeObjToStr } from \"../../../../tools/time\";\nconst keyOrderArr = [\"target\", \"value\", \"difference\", \"point\"];\nconst redoElement = (\n  <FontAwesomeIcon className=\"work-icon__redo\" icon={faRedo} size=\"1x\" />\n);\n\nconst strToFirstLEtterUpper = (str) =>\n  str.charAt(0).toUpperCase() + str.slice(1);\nexport const WorkListGrade = ({ user, date }) => {\n  // const [grade, difference, target, value, isGradeLoading, updateInfo] =\n  const [gradeInfo, isGradeLoading, updateInfo] = useWorkListGrade(user, date);\n  const getGradeSum = () =>\n    gradeInfo\n      ? Object.values(gradeInfo?.point).reduce(\n          (prev, value) => (prev += value),\n          0\n        )\n      : 0;\n  const gradeSum = getGradeSum();\n  // console.log(\"SUM : \", grade, gradeSum);\n  // const gradeElement = makeStar(getGradeSum()).map((elem, idx) => (\n  //   <div key={idx}> {elem}</div>\n  // ));\n  // Object.entries(gradeInfo).map(([key, value]) => {\n  //   return (\n  //     <tr>\n  //       <td>{strToFirstLEtterUpper(key)}</td>\n  //       {value.map((elem) => {\n  //         return <td> {elem}</td>;\n  //       })}\n  //     </tr>\n  //   );\n  // });\n\n  const numToStr = (num, emptyStr) => (num === -1 ? emptyStr + \"h\" : num + \"h\");\n  const getValue = (type, elem) => {\n    const getValueInPoint = () =>\n      makeStar(elem, false).map((star, idx) => {\n        return (\n          <span key={\"star\" + idx} className=\"workList-grade__tooltip-star\">\n            {star}\n          </span>\n        );\n      });\n    if (type === \"point\") return getValueInPoint();\n    else if (type === \"target\" || type === \"value\")\n      return timeObjToStr(elem, \"X\");\n    else {\n      // diff\n    }\n  };\n  const tableElement = (\n    <table border={1}>\n      <thead>\n        <tr>\n          <th></th>\n          <th className=\"workList-grade__tooltip__row\">WakeTime</th>\n          <th className=\"workList-grade__tooltip__row\">BedTime</th>\n          <th className=\"workList-grade__tooltip__row\">WorkTimeSum</th>\n        </tr>\n      </thead>\n      <tbody>\n        {gradeInfo &&\n          keyOrderArr.map((key) => {\n            const value = gradeInfo[key];\n            return (\n              <tr key={key}>\n                <td>{strToFirstLEtterUpper(key)}</td>\n                {console.log(value)}\n                {value &&\n                  Object.values(value).map((elem, idx) => {\n                    return (\n                      <td key={key + idx}>\n                        {key === \"point\"\n                          ? getValue(key, elem)\n                          : typeof elem === \"number\"\n                          ? numToStr(elem, \"0\")\n                          : timeObjToStr(elem, \"X\")}\n                      </td>\n                    );\n                  })}\n              </tr>\n            );\n          })}\n      </tbody>\n    </table>\n  );\n  const tooltipElement = (\n    <div className=\"grade-tooltip-content\">\n      <div className=\"grade-tooltip-box\">{tableElement} </div>\n    </div>\n  );\n\n  const getGradeElement = (\n    <button\n      className=\"workList-grade__btn workList-grade__btn-init\"\n      onClick={updateInfo}\n    >\n      Get Grade ⭐\n    </button>\n  );\n  const updateGradeBtn = (\n    <button\n      className=\"workList-grade__btn workList-grade__update-btn\"\n      onClick={updateInfo}\n    >\n      {redoElement}\n    </button>\n  );\n  const displayGrade = (\n    <div className=\"workList-grade__display\">\n      <div className=\"tooltip\">\n        <GradeStarList gradeSum={gradeSum} />\n        {tooltipElement}\n      </div>\n      {updateGradeBtn}\n    </div>\n  );\n  return gradeInfo ? displayGrade : getGradeElement;\n};\n"]},"metadata":{},"sourceType":"module"}