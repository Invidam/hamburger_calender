{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useState } from \"react\";\nexport const useLogin = () => {\n  _s();\n\n  const initVal = \"test\";\n  const [user, setUser] = useState(initVal);\n  const authenticated = user != null;\n\n  const login = async ({\n    email,\n    password\n  }) => {\n    // setUser(signIn({ email, password }));\n    try {\n      const response = await axios.post(`/auth/login/notSocial`, {\n        email,\n        password\n      });\n      const {\n        access_token,\n        username\n      } = response.data;\n      localStorage.setItem(\"access_token\", JSON.stringify(access_token));\n      setUser(username);\n    } catch (error) {\n      alert(error);\n    }\n  };\n\n  const logout = () => {\n    setUser(null);\n    localStorage.removeItem(\"access_token\");\n  };\n\n  return [user, setUser, authenticated, login, logout];\n};\n\n_s(useLogin, \"ZlV0eqCaf9/ubG1ky6GwysWBLys=\");","map":{"version":3,"sources":["/home/invidam/hamburger_calender/src/hooks/user/useLogin.js"],"names":["axios","useState","useLogin","initVal","user","setUser","authenticated","login","email","password","response","post","access_token","username","data","localStorage","setItem","JSON","stringify","error","alert","logout","removeItem"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,OAAzB;AAEA,OAAO,MAAMC,QAAQ,GAAG,MAAM;AAAA;;AAC5B,QAAMC,OAAO,GAAG,MAAhB;AACA,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBJ,QAAQ,CAACE,OAAD,CAAhC;AACA,QAAMG,aAAa,GAAGF,IAAI,IAAI,IAA9B;;AACA,QAAMG,KAAK,GAAG,OAAO;AAAEC,IAAAA,KAAF;AAASC,IAAAA;AAAT,GAAP,KAA+B;AAC3C;AACA,QAAI;AACF,YAAMC,QAAQ,GAAG,MAAMV,KAAK,CAACW,IAAN,CAAY,uBAAZ,EAAoC;AACzDH,QAAAA,KADyD;AAEzDC,QAAAA;AAFyD,OAApC,CAAvB;AAIA,YAAM;AAAEG,QAAAA,YAAF;AAAgBC,QAAAA;AAAhB,UAA6BH,QAAQ,CAACI,IAA5C;AACAC,MAAAA,YAAY,CAACC,OAAb,CAAqB,cAArB,EAAqCC,IAAI,CAACC,SAAL,CAAeN,YAAf,CAArC;AACAP,MAAAA,OAAO,CAACQ,QAAD,CAAP;AACD,KARD,CAQE,OAAOM,KAAP,EAAc;AACdC,MAAAA,KAAK,CAACD,KAAD,CAAL;AACD;AACF,GAbD;;AAcA,QAAME,MAAM,GAAG,MAAM;AACnBhB,IAAAA,OAAO,CAAC,IAAD,CAAP;AACAU,IAAAA,YAAY,CAACO,UAAb,CAAwB,cAAxB;AACD,GAHD;;AAKA,SAAO,CAAClB,IAAD,EAAOC,OAAP,EAAgBC,aAAhB,EAA+BC,KAA/B,EAAsCc,MAAtC,CAAP;AACD,CAxBM;;GAAMnB,Q","sourcesContent":["import axios from \"axios\";\nimport { useState } from \"react\";\n\nexport const useLogin = () => {\n  const initVal = \"test\";\n  const [user, setUser] = useState(initVal);\n  const authenticated = user != null;\n  const login = async ({ email, password }) => {\n    // setUser(signIn({ email, password }));\n    try {\n      const response = await axios.post(`/auth/login/notSocial`, {\n        email,\n        password,\n      });\n      const { access_token, username } = response.data;\n      localStorage.setItem(\"access_token\", JSON.stringify(access_token));\n      setUser(username);\n    } catch (error) {\n      alert(error);\n    }\n  };\n  const logout = () => {\n    setUser(null);\n    localStorage.removeItem(\"access_token\");\n  };\n\n  return [user, setUser, authenticated, login, logout];\n};\n"]},"metadata":{},"sourceType":"module"}