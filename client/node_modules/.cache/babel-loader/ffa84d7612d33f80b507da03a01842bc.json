{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport axios from \"axios\";\nexport const useUpdateWork = initList => {\n  _s();\n\n  initList = window.localStorage.getItem(\"workList\") ? JSON.parse(window.localStorage.getItem(\"workList\")) : initList ? initList : [];\n  console.log(\"RET0\", initList);\n  const [workList, setWorkList] = useState(initList);\n  if (workList === []) axios({\n    headers: {\n      Authorization: \"\",\n      \"Content-Type\": \"application/json\"\n    },\n    url: \"/api/get-worklist\",\n    method: \"get\"\n  }).then(data => {\n    var _data$data;\n\n    console.log(\"HOOK DATA: \", key, data === null || data === void 0 ? void 0 : (_data$data = data.data) === null || _data$data === void 0 ? void 0 : _data$data.timeObj);\n\n    if (data.data) {\n      var _data$data2, _data$data3;\n\n      setRecordTime(data === null || data === void 0 ? void 0 : (_data$data2 = data.data) === null || _data$data2 === void 0 ? void 0 : _data$data2.timeObj);\n      window.localStorage.setItem(key, JSON.stringify(data === null || data === void 0 ? void 0 : (_data$data3 = data.data) === null || _data$data3 === void 0 ? void 0 : _data$data3.timeObj));\n    }\n  }); // const res = axios({\n  //   headers: {\n  //     Authorization: \"\",\n  //     \"Content-Type\": \"application/json\",\n  //   },\n  //   url: \"/api/get-worklist\",\n  //   method: \"get\",\n  // });\n  // console.log(\"[worklist], HOOK DATA: \", res.data);\n\n  const updateWorkList = _workList => {\n    console.log(\"IN UPDATE WORKLIST: INPUT DAT: \", _workList);\n    setWorkList(_workList);\n    console.log(\"IN UPDATE WORKLIST: hook  DAT: \", workList);\n    axios.post(\"api/update-worklist\", {\n      user: \"TEST\",\n      value: _workList\n    });\n    if (_workList === null || _workList === void 0 ? void 0 : _workList.length) window.localStorage.setItem(\"workList\", JSON.stringify(_workList));else window.localStorage.removeItem(\"workList\");\n  };\n\n  return [workList, updateWorkList];\n}; //여기서 useState가 동작을 안한다,. RET1 -> RET 로 ㄴ넘어가지가 않는다. 하\n\n_s(useUpdateWork, \"Kpr65zpJXY6DVnKWl11hb4ikBik=\");","map":{"version":3,"sources":["/home/invidam/hamburger_calender/src/hooks/useUpdateWork.js"],"names":["useState","axios","useUpdateWork","initList","window","localStorage","getItem","JSON","parse","console","log","workList","setWorkList","headers","Authorization","url","method","then","data","key","timeObj","setRecordTime","setItem","stringify","updateWorkList","_workList","post","user","value","length","removeItem"],"mappings":";;AAAA,SAASA,QAAT,QAAyB,OAAzB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,MAAMC,aAAa,GAAIC,QAAD,IAAc;AAAA;;AACzCA,EAAAA,QAAQ,GAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,UAA5B,IACPC,IAAI,CAACC,KAAL,CAAWJ,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,UAA5B,CAAX,CADO,GAEPH,QAAQ,GACRA,QADQ,GAER,EAJJ;AAKAM,EAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAoBP,QAApB;AACA,QAAM,CAACQ,QAAD,EAAWC,WAAX,IAA0BZ,QAAQ,CAACG,QAAD,CAAxC;AACA,MAAIQ,QAAQ,KAAK,EAAjB,EACEV,KAAK,CAAC;AACJY,IAAAA,OAAO,EAAE;AACPC,MAAAA,aAAa,EAAE,EADR;AAEP,sBAAgB;AAFT,KADL;AAKJC,IAAAA,GAAG,EAAE,mBALD;AAMJC,IAAAA,MAAM,EAAE;AANJ,GAAD,CAAL,CAOGC,IAPH,CAOSC,IAAD,IAAU;AAAA;;AAChBT,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BS,GAA3B,EAAgCD,IAAhC,aAAgCA,IAAhC,qCAAgCA,IAAI,CAAEA,IAAtC,+CAAgC,WAAYE,OAA5C;;AACA,QAAIF,IAAI,CAACA,IAAT,EAAe;AAAA;;AACbG,MAAAA,aAAa,CAACH,IAAD,aAACA,IAAD,sCAACA,IAAI,CAAEA,IAAP,gDAAC,YAAYE,OAAb,CAAb;AACAhB,MAAAA,MAAM,CAACC,YAAP,CAAoBiB,OAApB,CAA4BH,GAA5B,EAAiCZ,IAAI,CAACgB,SAAL,CAAeL,IAAf,aAAeA,IAAf,sCAAeA,IAAI,CAAEA,IAArB,gDAAe,YAAYE,OAA3B,CAAjC;AACD;AACF,GAbD,EATuC,CAwBzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,QAAMI,cAAc,GAAIC,SAAD,IAAe;AACpChB,IAAAA,OAAO,CAACC,GAAR,CAAY,iCAAZ,EAA+Ce,SAA/C;AACAb,IAAAA,WAAW,CAACa,SAAD,CAAX;AACAhB,IAAAA,OAAO,CAACC,GAAR,CAAY,iCAAZ,EAA+CC,QAA/C;AACAV,IAAAA,KAAK,CAACyB,IAAN,CAAW,qBAAX,EAAkC;AAAEC,MAAAA,IAAI,EAAE,MAAR;AAAgBC,MAAAA,KAAK,EAAEH;AAAvB,KAAlC;AACA,QAAIA,SAAJ,aAAIA,SAAJ,uBAAIA,SAAS,CAAEI,MAAf,EACEzB,MAAM,CAACC,YAAP,CAAoBiB,OAApB,CAA4B,UAA5B,EAAwCf,IAAI,CAACgB,SAAL,CAAeE,SAAf,CAAxC,EADF,KAEKrB,MAAM,CAACC,YAAP,CAAoByB,UAApB,CAA+B,UAA/B;AACN,GARD;;AASA,SAAO,CAACnB,QAAD,EAAWa,cAAX,CAAP;AACD,CA3CM,C,CA6CP;;GA7CatB,a","sourcesContent":["import { useState } from \"react\";\nimport axios from \"axios\";\nexport const useUpdateWork = (initList) => {\n  initList = window.localStorage.getItem(\"workList\")\n    ? JSON.parse(window.localStorage.getItem(\"workList\"))\n    : initList\n    ? initList\n    : [];\n  console.log(\"RET0\", initList);\n  const [workList, setWorkList] = useState(initList);\n  if (workList === [])\n    axios({\n      headers: {\n        Authorization: \"\",\n        \"Content-Type\": \"application/json\",\n      },\n      url: \"/api/get-worklist\",\n      method: \"get\",\n    }).then((data) => {\n      console.log(\"HOOK DATA: \", key, data?.data?.timeObj);\n      if (data.data) {\n        setRecordTime(data?.data?.timeObj);\n        window.localStorage.setItem(key, JSON.stringify(data?.data?.timeObj));\n      }\n    });\n\n  // const res = axios({\n  //   headers: {\n  //     Authorization: \"\",\n  //     \"Content-Type\": \"application/json\",\n  //   },\n  //   url: \"/api/get-worklist\",\n  //   method: \"get\",\n  // });\n  // console.log(\"[worklist], HOOK DATA: \", res.data);\n  const updateWorkList = (_workList) => {\n    console.log(\"IN UPDATE WORKLIST: INPUT DAT: \", _workList);\n    setWorkList(_workList);\n    console.log(\"IN UPDATE WORKLIST: hook  DAT: \", workList);\n    axios.post(\"api/update-worklist\", { user: \"TEST\", value: _workList });\n    if (_workList?.length)\n      window.localStorage.setItem(\"workList\", JSON.stringify(_workList));\n    else window.localStorage.removeItem(\"workList\");\n  };\n  return [workList, updateWorkList];\n};\n\n//여기서 useState가 동작을 안한다,. RET1 -> RET 로 ㄴ넘어가지가 않는다. 하\n"]},"metadata":{},"sourceType":"module"}