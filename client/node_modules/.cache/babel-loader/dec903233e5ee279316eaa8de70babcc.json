{"ast":null,"code":"import axios from \"axios\";\nimport { useState, useEffect } from \"react\";\nexport const useRecordTime = async key => {\n  var _s = $RefreshSig$();\n\n  // const [trigger, setTrigger] = useState(0);\n  const res = axios({\n    headers: {\n      Authorization: \"\",\n      \"Content-Type\": \"application/json\"\n    },\n    url: \"/api/get-time\",\n    method: \"post\",\n    data: {\n      key\n    }\n  }).then(_s(data => {\n    var _res$data;\n\n    _s();\n\n    console.log(\"[1]AXIOS RET\", data); // setTrigger(Date.now());\n\n    console.log(\"[2]HOOK DATA: \", key, res === null || res === void 0 ? void 0 : (_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.timeObj);\n    const initVal = res.data ? res.data.timeObj : window.localStorage.getItem(key) ? JSON.parse(window.localStorage.getItem(key)) : null;\n    console.log(\"INIT VAL: \", initVal);\n    const [recordTime, setRecordTime] = useState(initVal);\n\n    const onClick = event => {\n      event.preventDefault();\n      const [hour, minute] = new Date().toTimeString().split(\":\").slice(0, 2).map(numChar => parseInt(numChar));\n      console.log(\"on CLick, \", hour, minute);\n      const timeObj = {\n        hour,\n        minute\n      };\n      axios.post(\"api/record-time\", {\n        user: \"TEST\",\n        key,\n        value: timeObj\n      });\n      window.localStorage.setItem(key, JSON.stringify(timeObj));\n      setRecordTime(timeObj);\n    };\n\n    return [recordTime, onClick];\n  }, \"4aDt5VS2nQ1vijZ0/WcWOYBhy/A=\"));\n};","map":{"version":3,"sources":["/home/invidam/hamburger_calender/src/hooks/useRecoreTime.js"],"names":["axios","useState","useEffect","useRecordTime","key","res","headers","Authorization","url","method","data","then","console","log","timeObj","initVal","window","localStorage","getItem","JSON","parse","recordTime","setRecordTime","onClick","event","preventDefault","hour","minute","Date","toTimeString","split","slice","map","numChar","parseInt","post","user","value","setItem","stringify"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AAEA,OAAO,MAAMC,aAAa,GAAG,MAAOC,GAAP,IAAe;AAAA;;AAC1C;AACA,QAAMC,GAAG,GAAGL,KAAK,CAAC;AAChBM,IAAAA,OAAO,EAAE;AACPC,MAAAA,aAAa,EAAE,EADR;AAEP,sBAAgB;AAFT,KADO;AAKhBC,IAAAA,GAAG,EAAE,eALW;AAMhBC,IAAAA,MAAM,EAAE,MANQ;AAOhBC,IAAAA,IAAI,EAAE;AAAEN,MAAAA;AAAF;AAPU,GAAD,CAAL,CAQTO,IARS,IAQHD,IAAD,IAAU;AAAA;;AAAA;;AAChBE,IAAAA,OAAO,CAACC,GAAR,CAAY,cAAZ,EAA4BH,IAA5B,EADgB,CAEhB;;AAEAE,IAAAA,OAAO,CAACC,GAAR,CAAY,gBAAZ,EAA8BT,GAA9B,EAAmCC,GAAnC,aAAmCA,GAAnC,oCAAmCA,GAAG,CAAEK,IAAxC,8CAAmC,UAAWI,OAA9C;AACA,UAAMC,OAAO,GAAGV,GAAG,CAACK,IAAJ,GACZL,GAAG,CAACK,IAAJ,CAASI,OADG,GAEZE,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4Bd,GAA5B,IACAe,IAAI,CAACC,KAAL,CAAWJ,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4Bd,GAA5B,CAAX,CADA,GAEA,IAJJ;AAKAQ,IAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BE,OAA1B;AACA,UAAM,CAACM,UAAD,EAAaC,aAAb,IAA8BrB,QAAQ,CAACc,OAAD,CAA5C;;AACA,UAAMQ,OAAO,GAAIC,KAAD,IAAW;AACzBA,MAAAA,KAAK,CAACC,cAAN;AACA,YAAM,CAACC,IAAD,EAAOC,MAAP,IAAiB,IAAIC,IAAJ,GACpBC,YADoB,GAEpBC,KAFoB,CAEd,GAFc,EAGpBC,KAHoB,CAGd,CAHc,EAGX,CAHW,EAIpBC,GAJoB,CAIfC,OAAD,IAAaC,QAAQ,CAACD,OAAD,CAJL,CAAvB;AAKArB,MAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0Ba,IAA1B,EAAgCC,MAAhC;AACA,YAAMb,OAAO,GAAG;AAAEY,QAAAA,IAAF;AAAQC,QAAAA;AAAR,OAAhB;AACA3B,MAAAA,KAAK,CAACmC,IAAN,CAAW,iBAAX,EAA8B;AAAEC,QAAAA,IAAI,EAAE,MAAR;AAAgBhC,QAAAA,GAAhB;AAAqBiC,QAAAA,KAAK,EAAEvB;AAA5B,OAA9B;AACAE,MAAAA,MAAM,CAACC,YAAP,CAAoBqB,OAApB,CAA4BlC,GAA5B,EAAiCe,IAAI,CAACoB,SAAL,CAAezB,OAAf,CAAjC;AACAQ,MAAAA,aAAa,CAACR,OAAD,CAAb;AACD,KAZD;;AAaA,WAAO,CAACO,UAAD,EAAaE,OAAb,CAAP;AACD,GAlCW,kCAAZ;AAmCD,CArCM","sourcesContent":["import axios from \"axios\";\nimport { useState, useEffect } from \"react\";\n\nexport const useRecordTime = async (key) => {\n  // const [trigger, setTrigger] = useState(0);\n  const res = axios({\n    headers: {\n      Authorization: \"\",\n      \"Content-Type\": \"application/json\",\n    },\n    url: \"/api/get-time\",\n    method: \"post\",\n    data: { key },\n  }).then((data) => {\n    console.log(\"[1]AXIOS RET\", data);\n    // setTrigger(Date.now());\n\n    console.log(\"[2]HOOK DATA: \", key, res?.data?.timeObj);\n    const initVal = res.data\n      ? res.data.timeObj\n      : window.localStorage.getItem(key)\n      ? JSON.parse(window.localStorage.getItem(key))\n      : null;\n    console.log(\"INIT VAL: \", initVal);\n    const [recordTime, setRecordTime] = useState(initVal);\n    const onClick = (event) => {\n      event.preventDefault();\n      const [hour, minute] = new Date()\n        .toTimeString()\n        .split(\":\")\n        .slice(0, 2)\n        .map((numChar) => parseInt(numChar));\n      console.log(\"on CLick, \", hour, minute);\n      const timeObj = { hour, minute };\n      axios.post(\"api/record-time\", { user: \"TEST\", key, value: timeObj });\n      window.localStorage.setItem(key, JSON.stringify(timeObj));\n      setRecordTime(timeObj);\n    };\n    return [recordTime, onClick];\n  });\n};\n"]},"metadata":{},"sourceType":"module"}