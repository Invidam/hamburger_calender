{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport qs from \"qs\";\nimport { useEffect } from \"react\";\nimport { axiosSetting } from \"../date/useSetAxios\";\nexport const useAttemptGithubLogin = props => {\n  _s();\n\n  const {\n    history,\n    location,\n    customLoginHook\n  } = props;\n  const login = customLoginHook[3];\n  useEffect(() => {\n    const getToken = async () => {\n      const {\n        code\n      } = qs.parse(location === null || location === void 0 ? void 0 : location.search, {\n        ignoreQueryPrefix: true\n      });\n\n      try {\n        const userInfo = {\n          code\n        };\n        login(userInfo, \"github\");\n        history.push(\"/\");\n      } catch (error) {\n        console.log(\"GITERR\", error);\n        alert(error);\n        history.push(\"/login\");\n      }\n    };\n\n    try {\n      // axiosSetting(); API를 사용하므로 지웠음\n      getToken();\n    } catch (e) {\n      console.log(\"HERE? \");\n      alert(e);\n    }\n  }, [location, history]);\n};\n\n_s(useAttemptGithubLogin, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");","map":{"version":3,"sources":["/home/invidam/hamburger_calender/src/hooks/user/useAttemptGithubLogin.js"],"names":["qs","useEffect","axiosSetting","useAttemptGithubLogin","props","history","location","customLoginHook","login","getToken","code","parse","search","ignoreQueryPrefix","userInfo","push","error","console","log","alert","e"],"mappings":";;AAAA,OAAOA,EAAP,MAAe,IAAf;AACA,SAASC,SAAT,QAA0B,OAA1B;AACA,SAASC,YAAT,QAA6B,qBAA7B;AACA,OAAO,MAAMC,qBAAqB,GAAIC,KAAD,IAAW;AAAA;;AAC9C,QAAM;AAAEC,IAAAA,OAAF;AAAWC,IAAAA,QAAX;AAAqBC,IAAAA;AAArB,MAAyCH,KAA/C;AACA,QAAMI,KAAK,GAAGD,eAAe,CAAC,CAAD,CAA7B;AACAN,EAAAA,SAAS,CAAC,MAAM;AACd,UAAMQ,QAAQ,GAAG,YAAY;AAC3B,YAAM;AAAEC,QAAAA;AAAF,UAAWV,EAAE,CAACW,KAAH,CAASL,QAAT,aAASA,QAAT,uBAASA,QAAQ,CAAEM,MAAnB,EAA2B;AAC1CC,QAAAA,iBAAiB,EAAE;AADuB,OAA3B,CAAjB;;AAGA,UAAI;AACF,cAAMC,QAAQ,GAAG;AAAEJ,UAAAA;AAAF,SAAjB;AACAF,QAAAA,KAAK,CAACM,QAAD,EAAW,QAAX,CAAL;AACAT,QAAAA,OAAO,CAACU,IAAR,CAAa,GAAb;AACD,OAJD,CAIE,OAAOC,KAAP,EAAc;AACdC,QAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBF,KAAtB;AACAG,QAAAA,KAAK,CAACH,KAAD,CAAL;AACAX,QAAAA,OAAO,CAACU,IAAR,CAAa,QAAb;AACD;AACF,KAbD;;AAcA,QAAI;AACF;AACAN,MAAAA,QAAQ;AACT,KAHD,CAGE,OAAOW,CAAP,EAAU;AACVH,MAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;AACAC,MAAAA,KAAK,CAACC,CAAD,CAAL;AACD;AACF,GAtBQ,EAsBN,CAACd,QAAD,EAAWD,OAAX,CAtBM,CAAT;AAuBD,CA1BM;;GAAMF,qB","sourcesContent":["import qs from \"qs\";\nimport { useEffect } from \"react\";\nimport { axiosSetting } from \"../date/useSetAxios\";\nexport const useAttemptGithubLogin = (props) => {\n  const { history, location, customLoginHook } = props;\n  const login = customLoginHook[3];\n  useEffect(() => {\n    const getToken = async () => {\n      const { code } = qs.parse(location?.search, {\n        ignoreQueryPrefix: true,\n      });\n      try {\n        const userInfo = { code };\n        login(userInfo, \"github\");\n        history.push(\"/\");\n      } catch (error) {\n        console.log(\"GITERR\", error);\n        alert(error);\n        history.push(\"/login\");\n      }\n    };\n    try {\n      // axiosSetting(); API를 사용하므로 지웠음\n      getToken();\n    } catch (e) {\n      console.log(\"HERE? \");\n      alert(e);\n    }\n  }, [location, history]);\n};\n"]},"metadata":{},"sourceType":"module"}