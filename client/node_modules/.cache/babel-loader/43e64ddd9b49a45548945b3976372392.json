{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport isEmail from \"validator/lib/isEmail\";\nimport { useState } from \"react\";\nimport { API } from \"../../tools/API\";\n\nconst isUserName = username => !/[^\\w]/.exec(username);\n\nexport const useAttemptSignup = ({\n  history,\n  locaiton\n}) => {\n  _s();\n\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const handleAttemptSignup = async () => {\n    try {\n      console.log(\"CONNET ON REACT-REGISTER page: \");\n      console.log(username, email, password);\n\n      if (!isEmail(email) || !isUserName(username)) {\n        let errText = \"\";\n        if (!isEmail(email)) errText += \"Email\";\n        if (!isEmail(email) && !isUserName(username)) errText += \" and \";\n        if (!isUserName(username)) errText += \"UserName\";\n        throw `Unexpected ${errText} Form. Please chek your ${errText}.`;\n      }\n\n      if (!username || !email || !password) {\n        let errText = `[ERROR] ${username ? \"\" : \"Username\"}${!email + !password > 0 && !username ? \", \" : \"\"}${email ? \"\" : \"Email\"}${!password > 0 && !email ? \", \" : \"\"}${password ? \"\" : \"Password\"} ${!username + !email + !password > 1 ? \"are\" : \"is\"} not entered.`;\n        throw errText;\n      }\n\n      const response = await API.post(\"/auth/signup\", {\n        username,\n        email,\n        password\n      });\n      alert(`Sign up complete. \\nLogin your entered email & password`);\n      history.push(\"/login\");\n    } catch (error) {\n      alert(error);\n    }\n  };\n\n  return {\n    username,\n    setUsername,\n    email,\n    setEmail,\n    password,\n    setPassword,\n    handleAttemptSignup\n  };\n}; //\n\n_s(useAttemptSignup, \"qXzfcSnOp7L14Dddg986jK2+oO8=\");","map":{"version":3,"sources":["/home/invidam/hamburger_calender/src/hooks/user/useAttemptSignup.js"],"names":["isEmail","useState","API","isUserName","username","exec","useAttemptSignup","history","locaiton","setUsername","email","setEmail","password","setPassword","handleAttemptSignup","console","log","errText","response","post","alert","push","error"],"mappings":";;AAAA,OAAOA,OAAP,MAAoB,uBAApB;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,SAASC,GAAT,QAAoB,iBAApB;;AAEA,MAAMC,UAAU,GAAIC,QAAD,IAAc,CAAC,QAAQC,IAAR,CAAaD,QAAb,CAAlC;;AAEA,OAAO,MAAME,gBAAgB,GAAG,CAAC;AAAEC,EAAAA,OAAF;AAAWC,EAAAA;AAAX,CAAD,KAA2B;AAAA;;AACzD,QAAM,CAACJ,QAAD,EAAWK,WAAX,IAA0BR,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACS,KAAD,EAAQC,QAAR,IAAoBV,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACW,QAAD,EAAWC,WAAX,IAA0BZ,QAAQ,CAAC,EAAD,CAAxC;;AACA,QAAMa,mBAAmB,GAAG,YAAY;AACtC,QAAI;AACFC,MAAAA,OAAO,CAACC,GAAR,CAAY,iCAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAYZ,QAAZ,EAAsBM,KAAtB,EAA6BE,QAA7B;;AACA,UAAI,CAACZ,OAAO,CAACU,KAAD,CAAR,IAAmB,CAACP,UAAU,CAACC,QAAD,CAAlC,EAA8C;AAC5C,YAAIa,OAAO,GAAG,EAAd;AACA,YAAI,CAACjB,OAAO,CAACU,KAAD,CAAZ,EAAqBO,OAAO,IAAI,OAAX;AACrB,YAAI,CAACjB,OAAO,CAACU,KAAD,CAAR,IAAmB,CAACP,UAAU,CAACC,QAAD,CAAlC,EAA8Ca,OAAO,IAAI,OAAX;AAC9C,YAAI,CAACd,UAAU,CAACC,QAAD,CAAf,EAA2Ba,OAAO,IAAI,UAAX;AAC3B,cAAO,cAAaA,OAAQ,2BAA0BA,OAAQ,GAA9D;AACD;;AACD,UAAI,CAACb,QAAD,IAAa,CAACM,KAAd,IAAuB,CAACE,QAA5B,EAAsC;AACpC,YAAIK,OAAO,GAAI,WAAUb,QAAQ,GAAG,EAAH,GAAQ,UAAW,GAClD,CAACM,KAAD,GAAS,CAACE,QAAV,GAAqB,CAArB,IAA0B,CAACR,QAA3B,GAAsC,IAAtC,GAA6C,EAC9C,GAAEM,KAAK,GAAG,EAAH,GAAQ,OAAQ,GAAE,CAACE,QAAD,GAAY,CAAZ,IAAiB,CAACF,KAAlB,GAA0B,IAA1B,GAAiC,EAAG,GAC5DE,QAAQ,GAAG,EAAH,GAAQ,UACjB,IAAG,CAACR,QAAD,GAAY,CAACM,KAAb,GAAqB,CAACE,QAAtB,GAAiC,CAAjC,GAAqC,KAArC,GAA6C,IAAK,eAJtD;AAKA,cAAMK,OAAN;AACD;;AACD,YAAMC,QAAQ,GAAG,MAAMhB,GAAG,CAACiB,IAAJ,CAAS,cAAT,EAAyB;AAC9Cf,QAAAA,QAD8C;AAE9CM,QAAAA,KAF8C;AAG9CE,QAAAA;AAH8C,OAAzB,CAAvB;AAKAQ,MAAAA,KAAK,CAAE,yDAAF,CAAL;AACAb,MAAAA,OAAO,CAACc,IAAR,CAAa,QAAb;AACD,KAzBD,CAyBE,OAAOC,KAAP,EAAc;AACdF,MAAAA,KAAK,CAACE,KAAD,CAAL;AACD;AACF,GA7BD;;AA8BA,SAAO;AACLlB,IAAAA,QADK;AAELK,IAAAA,WAFK;AAGLC,IAAAA,KAHK;AAILC,IAAAA,QAJK;AAKLC,IAAAA,QALK;AAMLC,IAAAA,WANK;AAOLC,IAAAA;AAPK,GAAP;AASD,CA3CM,C,CA6CP;;GA7CaR,gB","sourcesContent":["import isEmail from \"validator/lib/isEmail\";\nimport { useState } from \"react\";\nimport { API } from \"../../tools/API\";\n\nconst isUserName = (username) => !/[^\\w]/.exec(username);\n\nexport const useAttemptSignup = ({ history, locaiton }) => {\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const handleAttemptSignup = async () => {\n    try {\n      console.log(\"CONNET ON REACT-REGISTER page: \");\n      console.log(username, email, password);\n      if (!isEmail(email) || !isUserName(username)) {\n        let errText = \"\";\n        if (!isEmail(email)) errText += \"Email\";\n        if (!isEmail(email) && !isUserName(username)) errText += \" and \";\n        if (!isUserName(username)) errText += \"UserName\";\n        throw `Unexpected ${errText} Form. Please chek your ${errText}.`;\n      }\n      if (!username || !email || !password) {\n        let errText = `[ERROR] ${username ? \"\" : \"Username\"}${\n          !email + !password > 0 && !username ? \", \" : \"\"\n        }${email ? \"\" : \"Email\"}${!password > 0 && !email ? \", \" : \"\"}${\n          password ? \"\" : \"Password\"\n        } ${!username + !email + !password > 1 ? \"are\" : \"is\"} not entered.`;\n        throw errText;\n      }\n      const response = await API.post(\"/auth/signup\", {\n        username,\n        email,\n        password,\n      });\n      alert(`Sign up complete. \\nLogin your entered email & password`);\n      history.push(\"/login\");\n    } catch (error) {\n      alert(error);\n    }\n  };\n  return {\n    username,\n    setUsername,\n    email,\n    setEmail,\n    password,\n    setPassword,\n    handleAttemptSignup,\n  };\n};\n\n//\n"]},"metadata":{},"sourceType":"module"}