{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport qs from \"qs\";\nimport axios from \"axios\";\nimport isEmail from \"validator/lib/isEmail\";\nimport { useState } from \"react\";\nexport const useAttemptSignup = ({\n  history,\n  locaiton\n}) => {\n  _s();\n\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const handleAttemptSignup = async () => {\n    try {\n      // event.preventDefault();\n      //   const { code } = req.body;\n      console.log(\"CONNET ON REACT-REGISTER page: \");\n      console.log(username, email, password);\n\n      if (!isEmail(email)) {\n        throw \"Unexpected Email Form. Please Retry.\";\n      }\n\n      if (!username || !email || !password) {\n        let errText = `[ERROR] ${username ? \"\" : \"Username\"}${!email + !password > 0 && !username ? \", \" : \"\"}${email ? \"\" : \"Email\"}${!password > 0 && !email ? \", \" : \"\"}${password ? \"\" : \"Password\"} ${!username + !email + !password > 1 ? \"are\" : \"is\"} not entered.`;\n        throw errText;\n      }\n\n      console.log(\"BEF AXIOS\");\n      axios.interceptors.response.use(res => {\n        return res;\n      }, e => {\n        if (e.response.status === 401) {// status가 401일 경우 핸들링 처리\n        } else {\n          return e;\n        }\n      });\n      const response = await axios.post(\"/auth/signup\", {\n        username,\n        email,\n        password\n      });\n\n      if ((response === null || response === void 0 ? void 0 : response.status) !== 200) {\n        throw new Error(response === null || response === void 0 ? void 0 : response.status);\n      }\n\n      console.log(\"RES: \", response);\n      alert(\"Sign up complete.\");\n      history.push(\"/\");\n    } catch (error) {\n      console.error(error);\n      alert(error, \"lol\");\n    }\n  };\n\n  return {\n    username,\n    setUsername,\n    email,\n    setEmail,\n    password,\n    setPassword,\n    handleAttemptSignup\n  };\n}; //\n\n_s(useAttemptSignup, \"qXzfcSnOp7L14Dddg986jK2+oO8=\");","map":{"version":3,"sources":["/home/invidam/hamburger_calender/src/hooks/user/useAttemptSignup.js"],"names":["qs","axios","isEmail","useState","useAttemptSignup","history","locaiton","username","setUsername","email","setEmail","password","setPassword","handleAttemptSignup","console","log","errText","interceptors","response","use","res","e","status","post","Error","alert","push","error"],"mappings":"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","sourcesContent":["import qs from \"qs\";\nimport axios from \"axios\";\nimport isEmail from \"validator/lib/isEmail\";\nimport { useState } from \"react\";\n\nexport const useAttemptSignup = ({ history, locaiton }) => {\n  const [username, setUsername] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const handleAttemptSignup = async () => {\n    try {\n      // event.preventDefault();\n      //   const { code } = req.body;\n      console.log(\"CONNET ON REACT-REGISTER page: \");\n      console.log(username, email, password);\n      if (!isEmail(email)) {\n        throw \"Unexpected Email Form. Please Retry.\";\n      }\n      if (!username || !email || !password) {\n        let errText = `[ERROR] ${username ? \"\" : \"Username\"}${\n          !email + !password > 0 && !username ? \", \" : \"\"\n        }${email ? \"\" : \"Email\"}${!password > 0 && !email ? \", \" : \"\"}${\n          password ? \"\" : \"Password\"\n        } ${!username + !email + !password > 1 ? \"are\" : \"is\"} not entered.`;\n        throw errText;\n      }\n      console.log(\"BEF AXIOS\");\n      axios.interceptors.response.use(\n        (res) => {\n          return res;\n        },\n        (e) => {\n          if (e.response.status === 401) {\n            // status가 401일 경우 핸들링 처리\n          } else {\n            return e;\n          }\n        }\n      );\n      const response = await axios.post(\"/auth/signup\", {\n        username,\n        email,\n        password,\n      });\n      if (response?.status !== 200) {\n        throw new Error(response?.status);\n      }\n      console.log(\"RES: \", response);\n      alert(\"Sign up complete.\");\n      history.push(\"/\");\n    } catch (error) {\n      console.error(error);\n      alert(error, \"lol\");\n    }\n  };\n  return {\n    username,\n    setUsername,\n    email,\n    setEmail,\n    password,\n    setPassword,\n    handleAttemptSignup,\n  };\n};\n\n//\n"]},"metadata":{},"sourceType":"module"}