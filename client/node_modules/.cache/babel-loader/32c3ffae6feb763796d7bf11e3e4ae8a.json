{"ast":null,"code":"import _slicedToArray from\"/home/invidam/hamburger_calender/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useWorkListGrade}from\"../../../../hooks/workList/useWorkListGrade\";import{GradeStarList,makeStar}from\"./GradeStarList\";import{faRedo}from\"@fortawesome/free-solid-svg-icons\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{timeObjToStr}from\"../../../../tools/time\";import Loading from\"react-loading\";import{LoadingElementSmall}from\"../../../Loading\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var keyOrderArr=[\"target\",\"value\",\"difference\",\"point\"];var redoElement=/*#__PURE__*/_jsx(FontAwesomeIcon,{className:\"work-icon__redo\",icon:faRedo,size:\"1x\"});var strToFirstLEtterUpper=function strToFirstLEtterUpper(str){return str.charAt(0).toUpperCase()+str.slice(1);};export var WorkListGrade=function WorkListGrade(_ref){var user=_ref.user,date=_ref.date;// const [grade, difference, target, value, isGradeLoading, updateInfo] =\nvar _useWorkListGrade=useWorkListGrade(user,date),_useWorkListGrade2=_slicedToArray(_useWorkListGrade,3),gradeInfo=_useWorkListGrade2[0],isGradeLoading=_useWorkListGrade2[1],updateInfo=_useWorkListGrade2[2];var getGradeSum=function getGradeSum(){return gradeInfo?Object.values(gradeInfo===null||gradeInfo===void 0?void 0:gradeInfo.point).reduce(function(prev,value){return prev+=value;},0):0;};var gradeSum=getGradeSum();var numToStr=function numToStr(num,emptyStr){return num===-1?emptyStr:num+\"h\";};var getValue=function getValue(type,elem){var getValueInPoint=function getValueInPoint(){return makeStar(elem,false,\"work-icon\").map(function(star,idx){return/*#__PURE__*/_jsx(\"span\",{className:\"workList-grade__tooltip-star\",children:star},\"star\"+idx);});};if(type===\"point\")return getValueInPoint();else if(type===\"target\"||type===\"value\")return timeObjToStr(elem,\"X\");else{// diff\nnumToStr(elem,\"X\");}};var tableElement=/*#__PURE__*/_jsxs(\"table\",{border:1,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{}),/*#__PURE__*/_jsx(\"th\",{className:\"workList-grade__tooltip__row\",children:\"WakeTime\"}),/*#__PURE__*/_jsx(\"th\",{className:\"workList-grade__tooltip__row\",children:\"BedTime\"}),/*#__PURE__*/_jsx(\"th\",{className:\"workList-grade__tooltip__row\",children:\"WorkTimeSum\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:gradeInfo&&keyOrderArr.map(function(key){var value=gradeInfo[key];return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:strToFirstLEtterUpper(key)}),value&&Object.values(value).map(function(elem,idx){return/*#__PURE__*/_jsx(\"td\",{children:key===\"point\"?getValue(key,elem):typeof elem===\"number\"?numToStr(elem,\"X\"):timeObjToStr(elem,\"X\")},key+idx);})]},key);})})]});var tooltipElement=/*#__PURE__*/_jsx(\"div\",{className:\"grade-tooltip-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"grade-tooltip-box\",children:[tableElement,\" \"]})});var getGradeElement=/*#__PURE__*/_jsx(\"button\",{className:\"workList-grade__btn workList-grade__btn-init\",onClick:updateInfo,children:\"Get Grade \\u2B50\"});var updateGradeBtn=/*#__PURE__*/_jsx(\"button\",{className:\"workList-grade__btn workList-grade__btn-update\",onClick:updateInfo,children:redoElement});var displayGrade=/*#__PURE__*/_jsxs(\"div\",{className:\"workList-grade__display\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"tooltip workList-grade__point\",children:[/*#__PURE__*/_jsx(GradeStarList,{gradeSum:gradeSum}),tooltipElement]}),updateGradeBtn]});return isGradeLoading?/*#__PURE__*/_jsx(LoadingElementSmall,{text:\"Calculationg Grade...\"}):gradeInfo?displayGrade:getGradeElement;};","map":{"version":3,"sources":["/home/invidam/hamburger_calender/src/components/worklist/element/grade/WorkListGrade.js"],"names":["useWorkListGrade","GradeStarList","makeStar","faRedo","FontAwesomeIcon","timeObjToStr","Loading","LoadingElementSmall","keyOrderArr","redoElement","strToFirstLEtterUpper","str","charAt","toUpperCase","slice","WorkListGrade","user","date","gradeInfo","isGradeLoading","updateInfo","getGradeSum","Object","values","point","reduce","prev","value","gradeSum","numToStr","num","emptyStr","getValue","type","elem","getValueInPoint","map","star","idx","tableElement","key","tooltipElement","getGradeElement","updateGradeBtn","displayGrade"],"mappings":"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","sourcesContent":["import { useWorkListGrade } from \"../../../../hooks/workList/useWorkListGrade\";\nimport { GradeStarList, makeStar } from \"./GradeStarList\";\nimport { faRedo } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { timeObjToStr } from \"../../../../tools/time\";\nimport Loading from \"react-loading\";\nimport { LoadingElementSmall } from \"../../../Loading\";\nconst keyOrderArr = [\"target\", \"value\", \"difference\", \"point\"];\nconst redoElement = (\n  <FontAwesomeIcon className=\"work-icon__redo\" icon={faRedo} size=\"1x\" />\n);\n\nconst strToFirstLEtterUpper = (str) =>\n  str.charAt(0).toUpperCase() + str.slice(1);\nexport const WorkListGrade = ({ user, date }) => {\n  // const [grade, difference, target, value, isGradeLoading, updateInfo] =\n  const [gradeInfo, isGradeLoading, updateInfo] = useWorkListGrade(user, date);\n  const getGradeSum = () =>\n    gradeInfo\n      ? Object.values(gradeInfo?.point).reduce(\n          (prev, value) => (prev += value),\n          0\n        )\n      : 0;\n  const gradeSum = getGradeSum();\n\n  const numToStr = (num, emptyStr) => (num === -1 ? emptyStr : num + \"h\");\n  const getValue = (type, elem) => {\n    const getValueInPoint = () =>\n      makeStar(elem, false, \"work-icon\").map((star, idx) => {\n        return (\n          <span key={\"star\" + idx} className=\"workList-grade__tooltip-star\">\n            {star}\n          </span>\n        );\n      });\n    if (type === \"point\") return getValueInPoint();\n    else if (type === \"target\" || type === \"value\")\n      return timeObjToStr(elem, \"X\");\n    else {\n      // diff\n      numToStr(elem, \"X\");\n    }\n  };\n  const tableElement = (\n    <table border={1}>\n      <thead>\n        <tr>\n          <th></th>\n          <th className=\"workList-grade__tooltip__row\">WakeTime</th>\n          <th className=\"workList-grade__tooltip__row\">BedTime</th>\n          <th className=\"workList-grade__tooltip__row\">WorkTimeSum</th>\n        </tr>\n      </thead>\n      <tbody>\n        {gradeInfo &&\n          keyOrderArr.map((key) => {\n            const value = gradeInfo[key];\n            return (\n              <tr key={key}>\n                <td>{strToFirstLEtterUpper(key)}</td>\n\n                {value &&\n                  Object.values(value).map((elem, idx) => {\n                    return (\n                      <td key={key + idx}>\n                        {key === \"point\"\n                          ? getValue(key, elem)\n                          : typeof elem === \"number\"\n                          ? numToStr(elem, \"X\")\n                          : timeObjToStr(elem, \"X\")}\n                      </td>\n                    );\n                  })}\n              </tr>\n            );\n          })}\n      </tbody>\n    </table>\n  );\n  const tooltipElement = (\n    <div className=\"grade-tooltip-content\">\n      <div className=\"grade-tooltip-box\">{tableElement} </div>\n    </div>\n  );\n\n  const getGradeElement = (\n    <button\n      className=\"workList-grade__btn workList-grade__btn-init\"\n      onClick={updateInfo}\n    >\n      Get Grade ⭐\n    </button>\n  );\n  const updateGradeBtn = (\n    <button\n      className=\"workList-grade__btn workList-grade__btn-update\"\n      onClick={updateInfo}\n    >\n      {redoElement}\n    </button>\n  );\n  const displayGrade = (\n    <div className=\"workList-grade__display\">\n      <div className=\"tooltip workList-grade__point\">\n        <GradeStarList gradeSum={gradeSum} />\n        {tooltipElement}\n      </div>\n      {updateGradeBtn}\n    </div>\n  );\n  return isGradeLoading ? (\n    <LoadingElementSmall text={\"Calculationg Grade...\"} />\n  ) : gradeInfo ? (\n    displayGrade\n  ) : (\n    getGradeElement\n  );\n};\n"]},"metadata":{},"sourceType":"module"}