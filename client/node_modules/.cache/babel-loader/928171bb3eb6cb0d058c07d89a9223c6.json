{"ast":null,"code":"import _slicedToArray from\"/home/invidam/hamburger_calender/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useState}from\"react\";import randomToken from\"rand-token\";import{changeFormatYYYYMMDD}from\"../../tools/time\";export var useTodo=function useTodo(setTodo,todoItem,_isEditMode,idx){var _useState=useState(_isEditMode),_useState2=_slicedToArray(_useState,2),isEditMode=_useState2[0],setEditMode=_useState2[1];var _useState3=useState(todoItem===null||todoItem===void 0?void 0:todoItem.isCheck),_useState4=_slicedToArray(_useState3,2),isCheck=_useState4[0],setCheck=_useState4[1];var _useState5=useState(todoItem===null||todoItem===void 0?void 0:todoItem.text),_useState6=_slicedToArray(_useState5,2),text=_useState6[0],setText=_useState6[1];var _useState7=useState((todoItem===null||todoItem===void 0?void 0:todoItem.date)?todoItem===null||todoItem===void 0?void 0:todoItem.date:undefined),_useState8=_slicedToArray(_useState7,2),date=_useState8[0],setDate=_useState8[1];var _useState9=useState(todoItem===null||todoItem===void 0?void 0:todoItem.priority),_useState10=_slicedToArray(_useState9,2),priority=_useState10[0],setPriority=_useState10[1];var changeEditMode=function changeEditMode(){return setEditMode(idx===-1?true:!isEditMode);};var onClickCheck=function onClickCheck(){return setCheck(!isCheck);};var onChangeText=function onChangeText(text){return setText(text);};var onChangeDate=function onChangeDate(date){return setDate(changeFormatYYYYMMDD(date,false));};var onChangePriority=function onChangePriority(rating){console.log(\"RAT: \",rating);setPriority(rating);};//   const onCheck = (event) => {\n//     try {\n//       event.preventDefault();\n//     } catch (error) {\n//       alert(error);\n//     }\n//   };\nvar validator=function validator(todoItem){return todoItem.text&&todoItem.date&&todoItem.priority;};var getErrText=function getErrText(){var errText=\"[ERROR] In, TodoList \".concat(text?\"\":\" Text\").concat(!date+!priority>0&&!text?\", \":\"\").concat(date?\"\":\" Date\").concat(!priority>0&&!date?\", \":\"\").concat(priority?\"\":\" Prioirty\",\" \").concat(!text+!date+!priority>1?\"are\":\"is\",\" not entered.\");return errText;};var clearTodo=function clearTodo(){setText(\"\");setDate();setPriority();console.log(\"CLEAR TODO\",text,date,priority);};var onSubmitTodo=function onSubmitTodo(event){try{// console.log(\"EDIT EDIT EDIT\");\nevent.preventDefault();var id=Date.now().toString(16)+randomToken.generate(5);var _todoItem2={isCheck:isCheck,text:text,date:date,priority:priority,id:id};var willUpdate=true;if(typeof validator===\"function\")willUpdate=validator(_todoItem2);if(willUpdate){setTodo(_todoItem2,idx).create();clearTodo();}else{throw new Error(getErrText());}}catch(error){alert(error);}};var onClickEditBtn=function onClickEditBtn(){changeEditMode();};var onEditTodo=function onEditTodo(event){try{event.preventDefault();var willUpdate=true;var id=todoItem===null||todoItem===void 0?void 0:todoItem.id;var _todoItem={isCheck:isCheck,text:text,date:date,priority:priority,id:id};if(typeof validator===\"function\")willUpdate=validator(_todoItem);if(willUpdate){changeEditMode();setTodo(_todoItem,idx).edit();}else{throw new Error(getErrText());}}catch(error){alert(error);}};var onDeleteTodo=function onDeleteTodo(event){try{event.preventDefault();var deleteAction=function deleteAction(){return setTodo(todoItem,idx).delete();};var cancelAction=function cancelAction(){return console.log(\"CANCEL DELETE WORK\");};if(window.confirm(\"Are you sure you want to delete this item?\")){deleteAction();}else{cancelAction();}}catch(error){alert(error);}};var onClearTodo=function onClearTodo(){return clearTodo();};return[isEditMode,isCheck,text,date,priority,onClickCheck,onChangeText,onChangeDate,onChangePriority,onSubmitTodo,onEditTodo,onDeleteTodo,onClickEditBtn,onClearTodo];};","map":{"version":3,"sources":["/home/invidam/hamburger_calender/client/src/hooks/todolist/useTodo.js"],"names":["useState","randomToken","changeFormatYYYYMMDD","useTodo","setTodo","todoItem","_isEditMode","idx","isEditMode","setEditMode","isCheck","setCheck","text","setText","date","undefined","setDate","priority","setPriority","changeEditMode","onClickCheck","onChangeText","onChangeDate","onChangePriority","rating","console","log","validator","getErrText","errText","clearTodo","onSubmitTodo","event","preventDefault","id","Date","now","toString","generate","willUpdate","create","Error","error","alert","onClickEditBtn","onEditTodo","_todoItem","edit","onDeleteTodo","deleteAction","delete","cancelAction","window","confirm","onClearTodo"],"mappings":"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","sourcesContent":["import { useState } from \"react\";\nimport randomToken from \"rand-token\";\nimport { changeFormatYYYYMMDD } from \"../../tools/time\";\nexport const useTodo = (setTodo, todoItem, _isEditMode, idx) => {\n  const [isEditMode, setEditMode] = useState(_isEditMode);\n  const [isCheck, setCheck] = useState(todoItem?.isCheck);\n  const [text, setText] = useState(todoItem?.text);\n  const [date, setDate] = useState(todoItem?.date ? todoItem?.date : undefined);\n  const [priority, setPriority] = useState(todoItem?.priority);\n  const changeEditMode = () => setEditMode(idx === -1 ? true : !isEditMode);\n  const onClickCheck = () => setCheck(!isCheck);\n  const onChangeText = (text) => setText(text);\n  const onChangeDate = (date) => setDate(changeFormatYYYYMMDD(date, false));\n  const onChangePriority = (rating) => {\n    console.log(\"RAT: \", rating);\n    setPriority(rating);\n  };\n  //   const onCheck = (event) => {\n  //     try {\n  //       event.preventDefault();\n  //     } catch (error) {\n  //       alert(error);\n  //     }\n  //   };\n  const validator = (todoItem) => {\n    return todoItem.text && todoItem.date && todoItem.priority;\n  };\n  const getErrText = () => {\n    let errText = `[ERROR] In, TodoList ${text ? \"\" : \" Text\"}${\n      !date + !priority > 0 && !text ? \", \" : \"\"\n    }${date ? \"\" : \" Date\"}${!priority > 0 && !date ? \", \" : \"\"}${\n      priority ? \"\" : \" Prioirty\"\n    } ${!text + !date + !priority > 1 ? \"are\" : \"is\"} not entered.`;\n    return errText;\n  };\n  const clearTodo = () => {\n    setText(\"\");\n    setDate();\n    setPriority();\n    console.log(\"CLEAR TODO\", text, date, priority);\n  };\n  const onSubmitTodo = (event) => {\n    try {\n      // console.log(\"EDIT EDIT EDIT\");\n      event.preventDefault();\n      const id = Date.now().toString(16) + randomToken.generate(5);\n      const todoItem = { isCheck, text, date, priority, id };\n      let willUpdate = true;\n      if (typeof validator === \"function\") willUpdate = validator(todoItem);\n      if (willUpdate) {\n        setTodo(todoItem, idx).create();\n        clearTodo();\n      } else {\n        throw new Error(getErrText());\n      }\n    } catch (error) {\n      alert(error);\n    }\n  };\n  const onClickEditBtn = () => {\n    changeEditMode();\n  };\n  const onEditTodo = (event) => {\n    try {\n      event.preventDefault();\n      let willUpdate = true;\n      const id = todoItem?.id;\n      const _todoItem = { isCheck, text, date, priority, id };\n      if (typeof validator === \"function\") willUpdate = validator(_todoItem);\n      if (willUpdate) {\n        changeEditMode();\n        setTodo(_todoItem, idx).edit();\n      } else {\n        throw new Error(getErrText());\n      }\n    } catch (error) {\n      alert(error);\n    }\n  };\n  const onDeleteTodo = (event) => {\n    try {\n      event.preventDefault();\n      const deleteAction = () => setTodo(todoItem, idx).delete();\n      const cancelAction = () => console.log(\"CANCEL DELETE WORK\");\n      if (window.confirm(\"Are you sure you want to delete this item?\")) {\n        deleteAction();\n      } else {\n        cancelAction();\n      }\n    } catch (error) {\n      alert(error);\n    }\n  };\n  const onClearTodo = () => clearTodo();\n  return [\n    isEditMode,\n    isCheck,\n    text,\n    date,\n    priority,\n    onClickCheck,\n    onChangeText,\n    onChangeDate,\n    onChangePriority,\n    onSubmitTodo,\n    onEditTodo,\n    onDeleteTodo,\n    onClickEditBtn,\n    onClearTodo,\n  ];\n};\n"]},"metadata":{},"sourceType":"module"}