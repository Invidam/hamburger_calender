{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { APIv2 } from \"../../tools/API\";\nimport { getAddedDateObj, getAddedDateStr } from \"../../tools/time\";\nconst STARTDATEDIFF = 2;\n\nconst getStartDate = date => getAddedDateStr(date, -1 * STARTDATEDIFF);\n\nexport const useListView = (user, date, setDate, workList) => {\n  _s();\n\n  const [startDate, setStratDate] = useState(getStartDate(date));\n\n  const getEndDate = startDate => getAddedDateObj(startDate, STARTDATEDIFF * 2);\n\n  const [listView, setListView] = useState();\n  const [isListViewLoading, setLoad] = useState();\n\n  const onClickLeftBtn = () => {\n    setStratDate(getAddedDateStr(startDate, -1));\n  };\n\n  const onClickRightBtn = () => {\n    setStratDate(getAddedDateStr(startDate, 1));\n  };\n\n  useEffect(() => {\n    setStratDate(getStartDate(date));\n  }, [date]);\n\n  const getListView = async () => {\n    try {\n      if (user && startDate) {\n        setLoad(true);\n        const data = await APIv2.listView(user, startDate).get(STARTDATEDIFF);\n        setLoad(false);\n        if (!(data === null || data === void 0 ? void 0 : data.data)) throw new Error(\"List View cann't found\");\n        console.log(\"DATA : LISTVIEW \", data === null || data === void 0 ? void 0 : data.data);\n        setListView(data === null || data === void 0 ? void 0 : data.data);\n      }\n    } catch (error) {\n      alert(error);\n    }\n  };\n\n  useEffect(() => {\n    //setListView를 좀 더 스마트하게 바꾸어야 한다.\n    console.log(\"Set list view start L or R\");\n  }, [startDate]);\n  useEffect(() => {\n    //setListView를 좀 더 스마트하게 바꾸어야 한다.\n    console.log(\"Set list view start\");\n    getListView();\n  }, [startDate]);\n  return {\n    isListViewLoading,\n    startDate,\n    listView,\n    onClickLeftBtn,\n    onClickRightBtn\n  };\n};\n\n_s(useListView, \"oyofhKgQWrPM2OCPmitO17XKVBk=\");","map":{"version":3,"sources":["/home/invidam/hamburger_calender/src/hooks/listView/useListView.js"],"names":["useEffect","useState","APIv2","getAddedDateObj","getAddedDateStr","STARTDATEDIFF","getStartDate","date","useListView","user","setDate","workList","startDate","setStratDate","getEndDate","listView","setListView","isListViewLoading","setLoad","onClickLeftBtn","onClickRightBtn","getListView","data","get","Error","console","log","error","alert"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,KAAT,QAAsB,iBAAtB;AACA,SAASC,eAAT,EAA0BC,eAA1B,QAAiD,kBAAjD;AACA,MAAMC,aAAa,GAAG,CAAtB;;AAEA,MAAMC,YAAY,GAAIC,IAAD,IAAUH,eAAe,CAACG,IAAD,EAAO,CAAC,CAAD,GAAKF,aAAZ,CAA9C;;AACA,OAAO,MAAMG,WAAW,GAAG,CAACC,IAAD,EAAOF,IAAP,EAAaG,OAAb,EAAsBC,QAAtB,KAAmC;AAAA;;AAC5D,QAAM,CAACC,SAAD,EAAYC,YAAZ,IAA4BZ,QAAQ,CAACK,YAAY,CAACC,IAAD,CAAb,CAA1C;;AACA,QAAMO,UAAU,GAAIF,SAAD,IACjBT,eAAe,CAACS,SAAD,EAAYP,aAAa,GAAG,CAA5B,CADjB;;AAEA,QAAM,CAACU,QAAD,EAAWC,WAAX,IAA0Bf,QAAQ,EAAxC;AACA,QAAM,CAACgB,iBAAD,EAAoBC,OAApB,IAA+BjB,QAAQ,EAA7C;;AAEA,QAAMkB,cAAc,GAAG,MAAM;AAC3BN,IAAAA,YAAY,CAACT,eAAe,CAACQ,SAAD,EAAY,CAAC,CAAb,CAAhB,CAAZ;AACD,GAFD;;AAGA,QAAMQ,eAAe,GAAG,MAAM;AAC5BP,IAAAA,YAAY,CAACT,eAAe,CAACQ,SAAD,EAAY,CAAZ,CAAhB,CAAZ;AACD,GAFD;;AAIAZ,EAAAA,SAAS,CAAC,MAAM;AACda,IAAAA,YAAY,CAACP,YAAY,CAACC,IAAD,CAAb,CAAZ;AACD,GAFQ,EAEN,CAACA,IAAD,CAFM,CAAT;;AAGA,QAAMc,WAAW,GAAG,YAAY;AAC9B,QAAI;AACF,UAAIZ,IAAI,IAAIG,SAAZ,EAAuB;AACrBM,QAAAA,OAAO,CAAC,IAAD,CAAP;AACA,cAAMI,IAAI,GAAG,MAAMpB,KAAK,CAACa,QAAN,CAAeN,IAAf,EAAqBG,SAArB,EAAgCW,GAAhC,CAAoClB,aAApC,CAAnB;AACAa,QAAAA,OAAO,CAAC,KAAD,CAAP;AACA,YAAI,EAACI,IAAD,aAACA,IAAD,uBAACA,IAAI,CAAEA,IAAP,CAAJ,EAAiB,MAAM,IAAIE,KAAJ,CAAU,wBAAV,CAAN;AACjBC,QAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ,EAAgCJ,IAAhC,aAAgCA,IAAhC,uBAAgCA,IAAI,CAAEA,IAAtC;AACAN,QAAAA,WAAW,CAACM,IAAD,aAACA,IAAD,uBAACA,IAAI,CAAEA,IAAP,CAAX;AACD;AACF,KATD,CASE,OAAOK,KAAP,EAAc;AACdC,MAAAA,KAAK,CAACD,KAAD,CAAL;AACD;AACF,GAbD;;AAcA3B,EAAAA,SAAS,CAAC,MAAM;AACd;AACAyB,IAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ;AACD,GAHQ,EAGN,CAACd,SAAD,CAHM,CAAT;AAIAZ,EAAAA,SAAS,CAAC,MAAM;AACd;AACAyB,IAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACAL,IAAAA,WAAW;AACZ,GAJQ,EAIN,CAACT,SAAD,CAJM,CAAT;AAKA,SAAO;AACLK,IAAAA,iBADK;AAELL,IAAAA,SAFK;AAGLG,IAAAA,QAHK;AAILI,IAAAA,cAJK;AAKLC,IAAAA;AALK,GAAP;AAOD,CA/CM;;GAAMZ,W","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { APIv2 } from \"../../tools/API\";\nimport { getAddedDateObj, getAddedDateStr } from \"../../tools/time\";\nconst STARTDATEDIFF = 2;\n\nconst getStartDate = (date) => getAddedDateStr(date, -1 * STARTDATEDIFF);\nexport const useListView = (user, date, setDate, workList) => {\n  const [startDate, setStratDate] = useState(getStartDate(date));\n  const getEndDate = (startDate) =>\n    getAddedDateObj(startDate, STARTDATEDIFF * 2);\n  const [listView, setListView] = useState();\n  const [isListViewLoading, setLoad] = useState();\n\n  const onClickLeftBtn = () => {\n    setStratDate(getAddedDateStr(startDate, -1));\n  };\n  const onClickRightBtn = () => {\n    setStratDate(getAddedDateStr(startDate, 1));\n  };\n\n  useEffect(() => {\n    setStratDate(getStartDate(date));\n  }, [date]);\n  const getListView = async () => {\n    try {\n      if (user && startDate) {\n        setLoad(true);\n        const data = await APIv2.listView(user, startDate).get(STARTDATEDIFF);\n        setLoad(false);\n        if (!data?.data) throw new Error(\"List View cann't found\");\n        console.log(\"DATA : LISTVIEW \", data?.data);\n        setListView(data?.data);\n      }\n    } catch (error) {\n      alert(error);\n    }\n  };\n  useEffect(() => {\n    //setListView를 좀 더 스마트하게 바꾸어야 한다.\n    console.log(\"Set list view start L or R\");\n  }, [startDate]);\n  useEffect(() => {\n    //setListView를 좀 더 스마트하게 바꾸어야 한다.\n    console.log(\"Set list view start\");\n    getListView();\n  }, [startDate]);\n  return {\n    isListViewLoading,\n    startDate,\n    listView,\n    onClickLeftBtn,\n    onClickRightBtn,\n  };\n};\n"]},"metadata":{},"sourceType":"module"}