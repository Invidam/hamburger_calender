{"ast":null,"code":"import { Node } from \"./Node.js\";\n\nconst arrToDeque = initArr => {\n  let head, tail;\n  initArr.reduce((prev, curr, idx, arr) => {\n    if (idx === 0) {\n      curr = new Node(curr);\n      head = curr;\n    } else {\n      curr = new Node(curr, prev);\n      prev.next = curr;\n\n      if (idx === arr.length - 1) {\n        tail = curr;\n      }\n    }\n\n    return curr;\n  }, undefined);\n  return {\n    head,\n    tail\n  };\n};\n\nexport class Deque {\n  constructor(initArr, displayLength) {\n    this.startDateIdx = Math.floor((initArr.length - displayLength) / 2); // 11 / 2 - 2 = 3\n    // 11 - 5 / 3\n    // this.head\n    // this.tail\n    // initArr.reduce((prev, curr, idx, arr) => {}, undefined);\n\n    const {\n      head,\n      tail\n    } = arrToDeque(initArr);\n    this.head = head;\n    this.tail = tail;\n    this.length = initArr.length;\n    this.displayLength = displayLength;\n  }\n\n  print() {\n    let itr = this.head;\n    const ret = [];\n\n    while (itr !== undefined) {\n      ret.push(itr.value);\n      itr = itr.next;\n    }\n\n    console.log(ret);\n  }\n\n  pop_front() {\n    this.head = this.head.next;\n    this.head.prev = undefined;\n    this.length--;\n  }\n\n  pop_back() {\n    this.tail = this.tail.prev;\n    this.tail.next = undefined;\n    this.length--;\n  }\n\n  push_front(node) {\n    node.next = this.head;\n    this.head.prev = node;\n    this.head = node;\n    this.length++;\n  }\n\n  push_back(node) {\n    node.prev = this.tail;\n    this.tail.next = node;\n    this.tail = node;\n    this.length++;\n  }\n\n  getInRange(from, length) {\n    if (from + length > this.length || from < 0 || length < 1) throw new Error(`Unexpected arguments ${from} and ${length} in ${this.length}`);\n    let itr = this.head;\n    let idx = 0;\n    const ret = [];\n\n    while (idx !== from) itr = itr.next;\n\n    while (length--) {\n      if (itr === undefined) throw new Error(\"Deque is not linked well\");\n      ret.push(itr.value);\n      itr = itr.next;\n    }\n\n    return ret;\n  }\n\n  get() {\n    return this.getInRange(this.startDateIdx, this.displayLength);\n  }\n\n}\nconst arr = [1, 2, 3, 4, 5];\nconst deq = new Deque(arr, 2);\nconsole.log(deq);\nconsole.log(deq.length);\ndeq.print();\ndeq.push_back(new Node(6));\ndeq.print();\ndeq.push_front(new Node(0));\ndeq.print();\ndeq.pop_back();\ndeq.print();\ndeq.pop_front();\ndeq.print();\nconsole.log(deq.length);\nconsole.log(deq.getInRange(0, 5));","map":{"version":3,"sources":["/home/invidam/hamburger_calender/src/classes/Deque.js"],"names":["Node","arrToDeque","initArr","head","tail","reduce","prev","curr","idx","arr","next","length","undefined","Deque","constructor","displayLength","startDateIdx","Math","floor","print","itr","ret","push","value","console","log","pop_front","pop_back","push_front","node","push_back","getInRange","from","Error","get","deq"],"mappings":"AAAA,SAASA,IAAT,QAAqB,WAArB;;AAEA,MAAMC,UAAU,GAAIC,OAAD,IAAa;AAC9B,MAAIC,IAAJ,EAAUC,IAAV;AACAF,EAAAA,OAAO,CAACG,MAAR,CAAe,CAACC,IAAD,EAAOC,IAAP,EAAaC,GAAb,EAAkBC,GAAlB,KAA0B;AACvC,QAAID,GAAG,KAAK,CAAZ,EAAe;AACbD,MAAAA,IAAI,GAAG,IAAIP,IAAJ,CAASO,IAAT,CAAP;AACAJ,MAAAA,IAAI,GAAGI,IAAP;AACD,KAHD,MAGO;AACLA,MAAAA,IAAI,GAAG,IAAIP,IAAJ,CAASO,IAAT,EAAeD,IAAf,CAAP;AACAA,MAAAA,IAAI,CAACI,IAAL,GAAYH,IAAZ;;AACA,UAAIC,GAAG,KAAKC,GAAG,CAACE,MAAJ,GAAa,CAAzB,EAA4B;AAC1BP,QAAAA,IAAI,GAAGG,IAAP;AACD;AACF;;AACD,WAAOA,IAAP;AACD,GAZD,EAYGK,SAZH;AAaA,SAAO;AAAET,IAAAA,IAAF;AAAQC,IAAAA;AAAR,GAAP;AACD,CAhBD;;AAiBA,OAAO,MAAMS,KAAN,CAAY;AACjBC,EAAAA,WAAW,CAACZ,OAAD,EAAUa,aAAV,EAAyB;AAClC,SAAKC,YAAL,GAAoBC,IAAI,CAACC,KAAL,CAAW,CAAChB,OAAO,CAACS,MAAR,GAAiBI,aAAlB,IAAmC,CAA9C,CAApB,CADkC,CAElC;AACA;AACA;AACA;AACA;;AACA,UAAM;AAAEZ,MAAAA,IAAF;AAAQC,MAAAA;AAAR,QAAiBH,UAAU,CAACC,OAAD,CAAjC;AACA,SAAKC,IAAL,GAAYA,IAAZ;AACA,SAAKC,IAAL,GAAYA,IAAZ;AACA,SAAKO,MAAL,GAAcT,OAAO,CAACS,MAAtB;AACA,SAAKI,aAAL,GAAqBA,aAArB;AACD;;AACDI,EAAAA,KAAK,GAAG;AACN,QAAIC,GAAG,GAAG,KAAKjB,IAAf;AACA,UAAMkB,GAAG,GAAG,EAAZ;;AACA,WAAOD,GAAG,KAAKR,SAAf,EAA0B;AACxBS,MAAAA,GAAG,CAACC,IAAJ,CAASF,GAAG,CAACG,KAAb;AACAH,MAAAA,GAAG,GAAGA,GAAG,CAACV,IAAV;AACD;;AACDc,IAAAA,OAAO,CAACC,GAAR,CAAYJ,GAAZ;AACD;;AACDK,EAAAA,SAAS,GAAG;AACV,SAAKvB,IAAL,GAAY,KAAKA,IAAL,CAAUO,IAAtB;AACA,SAAKP,IAAL,CAAUG,IAAV,GAAiBM,SAAjB;AACA,SAAKD,MAAL;AACD;;AACDgB,EAAAA,QAAQ,GAAG;AACT,SAAKvB,IAAL,GAAY,KAAKA,IAAL,CAAUE,IAAtB;AACA,SAAKF,IAAL,CAAUM,IAAV,GAAiBE,SAAjB;AACA,SAAKD,MAAL;AACD;;AACDiB,EAAAA,UAAU,CAACC,IAAD,EAAO;AACfA,IAAAA,IAAI,CAACnB,IAAL,GAAY,KAAKP,IAAjB;AACA,SAAKA,IAAL,CAAUG,IAAV,GAAiBuB,IAAjB;AACA,SAAK1B,IAAL,GAAY0B,IAAZ;AACA,SAAKlB,MAAL;AACD;;AACDmB,EAAAA,SAAS,CAACD,IAAD,EAAO;AACdA,IAAAA,IAAI,CAACvB,IAAL,GAAY,KAAKF,IAAjB;AACA,SAAKA,IAAL,CAAUM,IAAV,GAAiBmB,IAAjB;AACA,SAAKzB,IAAL,GAAYyB,IAAZ;AACA,SAAKlB,MAAL;AACD;;AACDoB,EAAAA,UAAU,CAACC,IAAD,EAAOrB,MAAP,EAAe;AACvB,QAAIqB,IAAI,GAAGrB,MAAP,GAAgB,KAAKA,MAArB,IAA+BqB,IAAI,GAAG,CAAtC,IAA2CrB,MAAM,GAAG,CAAxD,EACE,MAAM,IAAIsB,KAAJ,CACH,wBAAuBD,IAAK,QAAOrB,MAAO,OAAM,KAAKA,MAAO,EADzD,CAAN;AAGF,QAAIS,GAAG,GAAG,KAAKjB,IAAf;AACA,QAAIK,GAAG,GAAG,CAAV;AACA,UAAMa,GAAG,GAAG,EAAZ;;AACA,WAAOb,GAAG,KAAKwB,IAAf,EAAqBZ,GAAG,GAAGA,GAAG,CAACV,IAAV;;AACrB,WAAOC,MAAM,EAAb,EAAiB;AACf,UAAIS,GAAG,KAAKR,SAAZ,EAAuB,MAAM,IAAIqB,KAAJ,CAAU,0BAAV,CAAN;AACvBZ,MAAAA,GAAG,CAACC,IAAJ,CAASF,GAAG,CAACG,KAAb;AACAH,MAAAA,GAAG,GAAGA,GAAG,CAACV,IAAV;AACD;;AACD,WAAOW,GAAP;AACD;;AACDa,EAAAA,GAAG,GAAG;AACJ,WAAO,KAAKH,UAAL,CAAgB,KAAKf,YAArB,EAAmC,KAAKD,aAAxC,CAAP;AACD;;AA/DgB;AAkEnB,MAAMN,GAAG,GAAG,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,EAAa,CAAb,CAAZ;AAEA,MAAM0B,GAAG,GAAG,IAAItB,KAAJ,CAAUJ,GAAV,EAAe,CAAf,CAAZ;AACAe,OAAO,CAACC,GAAR,CAAYU,GAAZ;AACAX,OAAO,CAACC,GAAR,CAAYU,GAAG,CAACxB,MAAhB;AACAwB,GAAG,CAAChB,KAAJ;AAEAgB,GAAG,CAACL,SAAJ,CAAc,IAAI9B,IAAJ,CAAS,CAAT,CAAd;AACAmC,GAAG,CAAChB,KAAJ;AACAgB,GAAG,CAACP,UAAJ,CAAe,IAAI5B,IAAJ,CAAS,CAAT,CAAf;AACAmC,GAAG,CAAChB,KAAJ;AAEAgB,GAAG,CAACR,QAAJ;AACAQ,GAAG,CAAChB,KAAJ;AACAgB,GAAG,CAACT,SAAJ;AACAS,GAAG,CAAChB,KAAJ;AACAK,OAAO,CAACC,GAAR,CAAYU,GAAG,CAACxB,MAAhB;AACAa,OAAO,CAACC,GAAR,CAAYU,GAAG,CAACJ,UAAJ,CAAe,CAAf,EAAkB,CAAlB,CAAZ","sourcesContent":["import { Node } from \"./Node.js\";\n\nconst arrToDeque = (initArr) => {\n  let head, tail;\n  initArr.reduce((prev, curr, idx, arr) => {\n    if (idx === 0) {\n      curr = new Node(curr);\n      head = curr;\n    } else {\n      curr = new Node(curr, prev);\n      prev.next = curr;\n      if (idx === arr.length - 1) {\n        tail = curr;\n      }\n    }\n    return curr;\n  }, undefined);\n  return { head, tail };\n};\nexport class Deque {\n  constructor(initArr, displayLength) {\n    this.startDateIdx = Math.floor((initArr.length - displayLength) / 2);\n    // 11 / 2 - 2 = 3\n    // 11 - 5 / 3\n    // this.head\n    // this.tail\n    // initArr.reduce((prev, curr, idx, arr) => {}, undefined);\n    const { head, tail } = arrToDeque(initArr);\n    this.head = head;\n    this.tail = tail;\n    this.length = initArr.length;\n    this.displayLength = displayLength;\n  }\n  print() {\n    let itr = this.head;\n    const ret = [];\n    while (itr !== undefined) {\n      ret.push(itr.value);\n      itr = itr.next;\n    }\n    console.log(ret);\n  }\n  pop_front() {\n    this.head = this.head.next;\n    this.head.prev = undefined;\n    this.length--;\n  }\n  pop_back() {\n    this.tail = this.tail.prev;\n    this.tail.next = undefined;\n    this.length--;\n  }\n  push_front(node) {\n    node.next = this.head;\n    this.head.prev = node;\n    this.head = node;\n    this.length++;\n  }\n  push_back(node) {\n    node.prev = this.tail;\n    this.tail.next = node;\n    this.tail = node;\n    this.length++;\n  }\n  getInRange(from, length) {\n    if (from + length > this.length || from < 0 || length < 1)\n      throw new Error(\n        `Unexpected arguments ${from} and ${length} in ${this.length}`\n      );\n    let itr = this.head;\n    let idx = 0;\n    const ret = [];\n    while (idx !== from) itr = itr.next;\n    while (length--) {\n      if (itr === undefined) throw new Error(\"Deque is not linked well\");\n      ret.push(itr.value);\n      itr = itr.next;\n    }\n    return ret;\n  }\n  get() {\n    return this.getInRange(this.startDateIdx, this.displayLength);\n  }\n}\n\nconst arr = [1, 2, 3, 4, 5];\n\nconst deq = new Deque(arr, 2);\nconsole.log(deq);\nconsole.log(deq.length);\ndeq.print();\n\ndeq.push_back(new Node(6));\ndeq.print();\ndeq.push_front(new Node(0));\ndeq.print();\n\ndeq.pop_back();\ndeq.print();\ndeq.pop_front();\ndeq.print();\nconsole.log(deq.length);\nconsole.log(deq.getInRange(0, 5));\n"]},"metadata":{},"sourceType":"module"}