{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport { useState, useEffect } from \"react\";\nexport const useUpdateTime = key => {\n  _s();\n\n  const initVal = window.localStorage.getItem(key) ? JSON.parse(window.localStorage.getItem(key)) : null;\n  const [recordTime, setRecordTime] = useState(initVal);\n  if (!recordTime) axios({\n    headers: {\n      Authorization: \"\",\n      \"Content-Type\": \"application/json\"\n    },\n    url: \"/api/get-time\",\n    method: \"post\",\n    data: {\n      user: \"TEST\",\n      key\n    }\n  }).then(data => {\n    if (data === null || data === void 0 ? void 0 : data.data) {\n      setRecordTime(data === null || data === void 0 ? void 0 : data.data);\n      window.localStorage.setItem(key, JSON.stringify(data === null || data === void 0 ? void 0 : data.data));\n    }\n  });\n\n  const updateRecordTime = timeObj => {\n    if (timeObj) {\n      console.log(\"INPUT update recrod time: \", timeObj);\n      axios.post(\"/api/record-time\", {\n        user: \"TEST\",\n        key,\n        value: timeObj\n      });\n      window.localStorage.setItem(key, JSON.stringify(timeObj));\n      setRecordTime(timeObj);\n      console.log(\"DATA STATE: \", recordTime);\n    } else {\n      timeObj = {\n        hour: -1,\n        minute: -1\n      };\n      axios.post(\"/api/record-time\", {\n        user: \"TEST\",\n        key,\n        value: timeObj\n      });\n      window.localStorage.setItem(key, JSON.stringify(timeObj));\n      setRecordTime(timeObj);\n    }\n  };\n\n  const onClick = event => {\n    event.preventDefault();\n    const [hour, minute] = new Date().toTimeString().split(\":\").slice(0, 2).map(numChar => parseInt(numChar));\n    const timeObj = {\n      hour,\n      minute\n    };\n    updateRecordTime(timeObj);\n  };\n\n  return [recordTime, onClick, updateRecordTime];\n};\n\n_s(useUpdateTime, \"4aDt5VS2nQ1vijZ0/WcWOYBhy/A=\");","map":{"version":3,"sources":["/home/invidam/hamburger_calender/src/hooks/workList/time/useUpdateTime.js"],"names":["axios","useState","useEffect","useUpdateTime","key","initVal","window","localStorage","getItem","JSON","parse","recordTime","setRecordTime","headers","Authorization","url","method","data","user","then","setItem","stringify","updateRecordTime","timeObj","console","log","post","value","hour","minute","onClick","event","preventDefault","Date","toTimeString","split","slice","map","numChar","parseInt"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport { useState, useEffect } from \"react\";\n\nexport const useUpdateTime = (key) => {\n  const initVal = window.localStorage.getItem(key)\n    ? JSON.parse(window.localStorage.getItem(key))\n    : null;\n  const [recordTime, setRecordTime] = useState(initVal);\n  if (!recordTime)\n    axios({\n      headers: {\n        Authorization: \"\",\n        \"Content-Type\": \"application/json\",\n      },\n      url: \"/api/get-time\",\n      method: \"post\",\n      data: { user: \"TEST\", key },\n    }).then((data) => {\n      if (data?.data) {\n        setRecordTime(data?.data);\n        window.localStorage.setItem(key, JSON.stringify(data?.data));\n      }\n    });\n  const updateRecordTime = (timeObj) => {\n    if (timeObj) {\n      console.log(\"INPUT update recrod time: \", timeObj);\n      axios.post(\"/api/record-time\", { user: \"TEST\", key, value: timeObj });\n      window.localStorage.setItem(key, JSON.stringify(timeObj));\n      setRecordTime(timeObj);\n      console.log(\"DATA STATE: \", recordTime);\n    } else {\n      timeObj = { hour: -1, minute: -1 };\n      axios.post(\"/api/record-time\", { user: \"TEST\", key, value: timeObj });\n      window.localStorage.setItem(key, JSON.stringify(timeObj));\n      setRecordTime(timeObj);\n    }\n  };\n  const onClick = (event) => {\n    event.preventDefault();\n    const [hour, minute] = new Date()\n      .toTimeString()\n      .split(\":\")\n      .slice(0, 2)\n      .map((numChar) => parseInt(numChar));\n    const timeObj = { hour, minute };\n    updateRecordTime(timeObj);\n  };\n  return [recordTime, onClick, updateRecordTime];\n};\n"]},"metadata":{},"sourceType":"module"}