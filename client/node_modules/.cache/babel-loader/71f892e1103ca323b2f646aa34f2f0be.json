{"ast":null,"code":"import _regeneratorRuntime from\"/home/invidam/hamburger_calender/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/invidam/hamburger_calender/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/home/invidam/hamburger_calender/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/invidam/hamburger_calender/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import axios from\"axios\";import{LocalStroage}from\"./LocalStorage\";import qs from\"qs\";export var getCustomConfig=function getCustomConfig(){var _LocalStroage$accessT;var token=(_LocalStroage$accessT=LocalStroage.accessToken().get())===null||_LocalStroage$accessT===void 0?void 0:_LocalStroage$accessT.token;var date=LocalStroage.date().get();console.log(\"REQ HEADER2: \",token,date);var config={headers:{\"x-access-token\":token,\"x-access-date\":date}};return config;};export var customAxios=axios.create(getCustomConfig());customAxios.interceptors.response.use(function(res){return res;},function(e){var _e$response;console.log(\"ERROR IN AXIOS CUSTOM, \",e);if((e===null||e===void 0?void 0:(_e$response=e.response)===null||_e$response===void 0?void 0:_e$response.status)===401){var _e$response2,_e$response3;// alert();\nconsole.log(e.response.data);console.log(\"401, \",(_e$response2=e.response)===null||_e$response2===void 0?void 0:_e$response2.data);throw new Error(\"401 - Unauthorized\\n\".concat((_e$response3=e.response)===null||_e$response3===void 0?void 0:_e$response3.data));}// alert(\"other err\");\nthrow new Error(e);// return Promise.reject(e);\n});// 로그인 parm: 소셜타입, 유저 정보\n// jwt 토큰 parm: 토큰\n// 사인업 / 유저정보 객체\n// 유저세팅 입력 겟 parms: 유저명\nexport var updateAPIHeader=function updateAPIHeader(){customAxios=axios.create(getCustomConfig());};export var API=/*#__PURE__*/function(){function API(){_classCallCheck(this,API);}_createClass(API,null,[{key:\"updateHeader\",value:function updateHeader(){customAxios=axios.create(getCustomConfig());}},{key:\"userSetting\",value:function userSetting(user){try{var url=\"/auth/setting/\".concat(user);return{get:function(){var _get=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return customAxios.get(url);case 2:return _context.abrupt(\"return\",_context.sent);case 3:case\"end\":return _context.stop();}}},_callee);}));function get(){return _get.apply(this,arguments);}return get;}(),edit:function(){var _edit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(targetWorkTime,targetWakeTime,targetBedTime){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return customAxios.post(url,{targetWorkTime:targetWorkTime,targetWakeTime:targetWakeTime,targetBedTime:targetBedTime});case 2:return _context2.abrupt(\"return\",_context2.sent);case 3:case\"end\":return _context2.stop();}}},_callee2);}));function edit(_x,_x2,_x3){return _edit.apply(this,arguments);}return edit;}()};}catch(error){throw new Error(error);}}},{key:\"auth\",value:function auth(){try{return{// githubLogin: async (userInfo) => {\n//   return await customAxios.post(\"/auth/login/github\", { value: userInfo });\n// },\nlogin:function(){var _login=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(socialType,userInfo){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return customAxios.post(\"/auth/login/\".concat(socialType),userInfo);case 2:return _context3.abrupt(\"return\",_context3.sent);case 3:case\"end\":return _context3.stop();}}},_callee3);}));function login(_x4,_x5){return _login.apply(this,arguments);}return login;}(),signup:function(){var _signup=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(userInfo){return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return customAxios.post(\"/auth/signup\",userInfo);case 2:return _context4.abrupt(\"return\",_context4.sent);case 3:case\"end\":return _context4.stop();}}},_callee4);}));function signup(_x6){return _signup.apply(this,arguments);}return signup;}(),verifyToken:function(){var _verifyToken=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return customAxios.get(\"/auth/jwt/verify\");case 2:return _context5.abrupt(\"return\",_context5.sent);case 3:case\"end\":return _context5.stop();}}},_callee5);}));function verifyToken(){return _verifyToken.apply(this,arguments);}return verifyToken;}(),getGithubAuthUrl:function(){var _getGithubAuthUrl=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return customAxios.get(\"/auth/github-auth-url\");case 2:return _context6.abrupt(\"return\",_context6.sent);case 3:case\"end\":return _context6.stop();}}},_callee6);}));function getGithubAuthUrl(){return _getGithubAuthUrl.apply(this,arguments);}return getGithubAuthUrl;}()};// eslint-disable-next-line no-unreachable\n}catch(error){throw new Error(error);}}},{key:\"recordTime\",value:function recordTime(user,date,key){try{var url=\"/api/\".concat(user,\"/worklist/\").concat(date,\"/record-time/\").concat(key);return{get:function(){var _get2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(){return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return customAxios.get(url);case 2:return _context7.abrupt(\"return\",_context7.sent);case 3:case\"end\":return _context7.stop();}}},_callee7);}));function get(){return _get2.apply(this,arguments);}return get;}(),create:function(){var _create=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(data){return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return customAxios.put(url,data);case 2:return _context8.abrupt(\"return\",_context8.sent);case 3:case\"end\":return _context8.stop();}}},_callee8);}));function create(_x7){return _create.apply(this,arguments);}return create;}(),edit:function(){var _edit2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(data){return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:_context9.next=2;return customAxios.post(url,data);case 2:return _context9.abrupt(\"return\",_context9.sent);case 3:case\"end\":return _context9.stop();}}},_callee9);}));function edit(_x8){return _edit2.apply(this,arguments);}return edit;}(),delete:function(){var _delete2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(){return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.next=2;return customAxios.delete(url);case 2:return _context10.abrupt(\"return\",_context10.sent);case 3:case\"end\":return _context10.stop();}}},_callee10);}));function _delete(){return _delete2.apply(this,arguments);}return _delete;}()};}catch(error){throw new Error(error);}}},{key:\"workList\",value:function workList(user,date){try{var url=\"/api/\".concat(user,\"/worklist/\").concat(date);return{grade:function(){var _grade=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(){return _regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_context11.next=2;return customAxios.get(url+\"/grade\");case 2:return _context11.abrupt(\"return\",_context11.sent);case 3:case\"end\":return _context11.stop();}}},_callee11);}));function grade(){return _grade.apply(this,arguments);}return grade;}(),get:function(){var _get3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee12(){return _regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:_context12.next=2;return customAxios.get(url);case 2:return _context12.abrupt(\"return\",_context12.sent);case 3:case\"end\":return _context12.stop();}}},_callee12);}));function get(){return _get3.apply(this,arguments);}return get;}(),dataInfo:function(){var _dataInfo=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee13(){return _regeneratorRuntime.wrap(function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:_context13.next=2;return customAxios.get(url+\"/date-info\");case 2:return _context13.abrupt(\"return\",_context13.sent);case 3:case\"end\":return _context13.stop();}}},_callee13);}));function dataInfo(){return _dataInfo.apply(this,arguments);}return dataInfo;}(),edit:function(){var _edit3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee14(data){return _regeneratorRuntime.wrap(function _callee14$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:_context14.next=2;return customAxios.post(url,data);case 2:return _context14.abrupt(\"return\",_context14.sent);case 3:case\"end\":return _context14.stop();}}},_callee14);}));function edit(_x9){return _edit3.apply(this,arguments);}return edit;}()};}catch(error){throw new Error(error);}}},{key:\"work\",value:function work(user,date){try{var url=\"/api/\".concat(user,\"/worklist/\").concat(date,\"/work\");return{create:function(){var _create2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee15(data){return _regeneratorRuntime.wrap(function _callee15$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:_context15.next=2;return customAxios.put(url,data);case 2:return _context15.abrupt(\"return\",_context15.sent);case 3:case\"end\":return _context15.stop();}}},_callee15);}));function create(_x10){return _create2.apply(this,arguments);}return create;}(),edit:function(){var _edit4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee16(data){return _regeneratorRuntime.wrap(function _callee16$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:_context16.next=2;return customAxios.post(url,data);case 2:return _context16.abrupt(\"return\",_context16.sent);case 3:case\"end\":return _context16.stop();}}},_callee16);}));function edit(_x11){return _edit4.apply(this,arguments);}return edit;}(),delete:function(){var _delete3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee17(data){return _regeneratorRuntime.wrap(function _callee17$(_context17){while(1){switch(_context17.prev=_context17.next){case 0:_context17.next=2;return customAxios.delete(url,{data:{id:data.id}});case 2:return _context17.abrupt(\"return\",_context17.sent);case 3:case\"end\":return _context17.stop();}}},_callee17);}));function _delete(_x12){return _delete3.apply(this,arguments);}return _delete;}()};}catch(error){throw new Error(error);}}},{key:\"listView\",value:function listView(user,startDate,endDate){try{var url=\"/api/\".concat(user,\"/listview\");var queryObj={startDate:startDate,endDate:endDate};var queryString=qs.stringify(queryObj);return{get:function(){var _get4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee18(){return _regeneratorRuntime.wrap(function _callee18$(_context18){while(1){switch(_context18.prev=_context18.next){case 0:_context18.next=2;return customAxios.get(url+\"?\".concat(queryString));case 2:return _context18.abrupt(\"return\",_context18.sent);case 3:case\"end\":return _context18.stop();}}},_callee18);}));function get(){return _get4.apply(this,arguments);}return get;}()// create: async (data) => {\n//   return await customAxios.put(url, { value: data });\n// },\n// edit: async (data) => {\n//   return await customAxios.post(url, { value: data });\n// },\n// delete: async () => {\n//   return await customAxios.delete(url);\n// },\n};}catch(error){throw new Error(error);}}},{key:\"todoList\",value:function todoList(user){try{var url=\"/api/\".concat(user,\"/todolist\");return{get:function(){var _get5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee19(sortTypeStr){var queryObj,queryString;return _regeneratorRuntime.wrap(function _callee19$(_context19){while(1){switch(_context19.prev=_context19.next){case 0:queryObj=sortTypeStr;queryString=qs.stringify(queryObj);_context19.next=4;return customAxios.get(url+\"?\".concat(queryString));case 4:return _context19.abrupt(\"return\",_context19.sent);case 5:case\"end\":return _context19.stop();}}},_callee19);}));function get(_x13){return _get5.apply(this,arguments);}return get;}(),edit:function(){var _edit5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee20(data){return _regeneratorRuntime.wrap(function _callee20$(_context20){while(1){switch(_context20.prev=_context20.next){case 0:_context20.next=2;return customAxios.post(url,{value:data});case 2:return _context20.abrupt(\"return\",_context20.sent);case 3:case\"end\":return _context20.stop();}}},_callee20);}));function edit(_x14){return _edit5.apply(this,arguments);}return edit;}()};}catch(error){throw new Error(error);}}},{key:\"todo\",value:function todo(user){try{var url=\"/api/\".concat(user,\"/todolist/todo\");return{create:function(){var _create3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee21(data){return _regeneratorRuntime.wrap(function _callee21$(_context21){while(1){switch(_context21.prev=_context21.next){case 0:_context21.next=2;return customAxios.put(url,data);case 2:return _context21.abrupt(\"return\",_context21.sent);case 3:case\"end\":return _context21.stop();}}},_callee21);}));function create(_x15){return _create3.apply(this,arguments);}return create;}(),edit:function(){var _edit6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee22(data){return _regeneratorRuntime.wrap(function _callee22$(_context22){while(1){switch(_context22.prev=_context22.next){case 0:_context22.next=2;return customAxios.post(url,data);case 2:return _context22.abrupt(\"return\",_context22.sent);case 3:case\"end\":return _context22.stop();}}},_callee22);}));function edit(_x16){return _edit6.apply(this,arguments);}return edit;}(),delete:function(){var _delete4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee23(data){return _regeneratorRuntime.wrap(function _callee23$(_context23){while(1){switch(_context23.prev=_context23.next){case 0:_context23.next=2;return customAxios.delete(url,{data:{id:data.id}});case 2:return _context23.abrupt(\"return\",_context23.sent);case 3:case\"end\":return _context23.stop();}}},_callee23);}));function _delete(_x17){return _delete4.apply(this,arguments);}return _delete;}()};}catch(error){throw new Error(error);}}}]);return API;}();//api.workList(\"SR\",\"1212-12-12\").create({ab:\"c\"});\n//SetWork({123:213}).delete();\n//Work().delte();","map":{"version":3,"sources":["/home/invidam/hamburger_calender/client/src/tools/API.js"],"names":["axios","LocalStroage","qs","getCustomConfig","token","accessToken","get","date","console","log","config","headers","customAxios","create","interceptors","response","use","res","e","status","data","Error","updateAPIHeader","API","user","url","edit","targetWorkTime","targetWakeTime","targetBedTime","post","error","login","socialType","userInfo","signup","verifyToken","getGithubAuthUrl","key","put","delete","grade","dataInfo","id","startDate","endDate","queryObj","queryString","stringify","sortTypeStr","value"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport { LocalStroage } from \"./LocalStorage\";\nimport qs from \"qs\";\n\nexport const getCustomConfig = () => {\n  const token = LocalStroage.accessToken().get()?.token;\n  const date = LocalStroage.date().get();\n  console.log(\"REQ HEADER2: \", token, date);\n  const config = {\n    headers: {\n      \"x-access-token\": token,\n      \"x-access-date\": date,\n    },\n  };\n  return config;\n};\n\nexport let customAxios = axios.create(getCustomConfig());\n\ncustomAxios.interceptors.response.use(\n  (res) => {\n    return res;\n  },\n  (e) => {\n    console.log(\"ERROR IN AXIOS CUSTOM, \", e);\n    if (e?.response?.status === 401) {\n      // alert();\n      console.log(e.response.data);\n      console.log(\"401, \", e.response?.data);\n      throw new Error(`401 - Unauthorized\\n${e.response?.data}`);\n    }\n    // alert(\"other err\");\n    throw new Error(e);\n    // return Promise.reject(e);\n  }\n);\n// 로그인 parm: 소셜타입, 유저 정보\n\n// jwt 토큰 parm: 토큰\n// 사인업 / 유저정보 객체\n// 유저세팅 입력 겟 parms: 유저명\n\nexport const updateAPIHeader = () => {\n  customAxios = axios.create(getCustomConfig());\n};\nexport class API {\n  static updateHeader() {\n    customAxios = axios.create(getCustomConfig());\n  }\n  static userSetting(user) {\n    try {\n      const url = `/auth/setting/${user}`;\n      return {\n        get: async () => {\n          return await customAxios.get(url);\n        },\n        edit: async (targetWorkTime, targetWakeTime, targetBedTime) => {\n          return await customAxios.post(url, {\n            targetWorkTime,\n            targetWakeTime,\n            targetBedTime,\n          });\n        },\n      };\n    } catch (error) {\n      throw new Error(error);\n    }\n  }\n  static auth() {\n    try {\n      return {\n        // githubLogin: async (userInfo) => {\n        //   return await customAxios.post(\"/auth/login/github\", { value: userInfo });\n        // },\n        login: async (socialType, userInfo) => {\n          return await customAxios.post(`/auth/login/${socialType}`, userInfo);\n        },\n        signup: async (userInfo) => {\n          return await customAxios.post(\"/auth/signup\", userInfo);\n        },\n        verifyToken: async () => {\n          return await customAxios.get(\"/auth/jwt/verify\");\n        },\n        getGithubAuthUrl: async () => {\n          return await customAxios.get(\"/auth/github-auth-url\");\n        },\n      };\n      // eslint-disable-next-line no-unreachable\n    } catch (error) {\n      throw new Error(error);\n    }\n  }\n  static recordTime(user, date, key) {\n    try {\n      const url = `/api/${user}/worklist/${date}/record-time/${key}`;\n      return {\n        get: async () => {\n          return await customAxios.get(url);\n        },\n        create: async (data) => {\n          return await customAxios.put(url, data);\n        },\n        edit: async (data) => {\n          return await customAxios.post(url, data);\n        },\n        delete: async () => {\n          return await customAxios.delete(url);\n        },\n      };\n    } catch (error) {\n      throw new Error(error);\n    }\n  }\n  static workList(user, date) {\n    try {\n      const url = `/api/${user}/worklist/${date}`;\n      return {\n        grade: async () => {\n          return await customAxios.get(url + \"/grade\");\n        },\n        get: async () => {\n          return await customAxios.get(url);\n        },\n        dataInfo: async () => {\n          return await customAxios.get(url + \"/date-info\");\n        },\n        edit: async (data) => {\n          return await customAxios.post(url, data);\n        },\n      };\n    } catch (error) {\n      throw new Error(error);\n    }\n  }\n  static work(user, date) {\n    try {\n      const url = `/api/${user}/worklist/${date}/work`;\n      return {\n        create: async (data) => {\n          return await customAxios.put(url, data);\n        },\n        edit: async (data) => {\n          return await customAxios.post(url, data);\n        },\n        delete: async (data) => {\n          return await customAxios.delete(url, { data: { id: data.id } });\n        },\n      };\n    } catch (error) {\n      throw new Error(error);\n    }\n  }\n  static listView(user, startDate, endDate) {\n    try {\n      const url = `/api/${user}/listview`;\n      const queryObj = { startDate, endDate };\n      const queryString = qs.stringify(queryObj);\n      return {\n        get: async () => {\n          return await customAxios.get(url + `?${queryString}`);\n        },\n        // create: async (data) => {\n        //   return await customAxios.put(url, { value: data });\n        // },\n        // edit: async (data) => {\n        //   return await customAxios.post(url, { value: data });\n        // },\n        // delete: async () => {\n        //   return await customAxios.delete(url);\n        // },\n      };\n    } catch (error) {\n      throw new Error(error);\n    }\n  }\n  static todoList(user) {\n    try {\n      const url = `/api/${user}/todolist`;\n      return {\n        get: async (sortTypeStr) => {\n          const queryObj = sortTypeStr;\n          const queryString = qs.stringify(queryObj);\n          return await customAxios.get(url + `?${queryString}`);\n        },\n        edit: async (data) => {\n          return await customAxios.post(url, { value: data });\n        },\n      };\n    } catch (error) {\n      throw new Error(error);\n    }\n  }\n  static todo(user) {\n    try {\n      const url = `/api/${user}/todolist/todo`;\n      return {\n        create: async (data) => {\n          return await customAxios.put(url, data);\n        },\n        edit: async (data) => {\n          return await customAxios.post(url, data);\n        },\n        delete: async (data) => {\n          return await customAxios.delete(url, { data: { id: data.id } });\n        },\n      };\n    } catch (error) {\n      throw new Error(error);\n    }\n  }\n}\n\n//api.workList(\"SR\",\"1212-12-12\").create({ab:\"c\"});\n//SetWork({123:213}).delete();\n//Work().delte();\n"]},"metadata":{},"sourceType":"module"}